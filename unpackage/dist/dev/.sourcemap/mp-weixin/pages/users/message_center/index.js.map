{"version":3,"sources":["uni-app:///main.js","webpack:////Users/yangfan/Desktop/皮皮熊/麦8号/CRMEB-BZ v5.2.1(20231106)/template/uni-app/pages/users/message_center/index.vue?1b2b","webpack:////Users/yangfan/Desktop/皮皮熊/麦8号/CRMEB-BZ v5.2.1(20231106)/template/uni-app/pages/users/message_center/index.vue?eb40","webpack:////Users/yangfan/Desktop/皮皮熊/麦8号/CRMEB-BZ v5.2.1(20231106)/template/uni-app/pages/users/message_center/index.vue?953c","webpack:////Users/yangfan/Desktop/皮皮熊/麦8号/CRMEB-BZ v5.2.1(20231106)/template/uni-app/pages/users/message_center/index.vue?38b7","uni-app:///pages/users/message_center/index.vue","webpack:////Users/yangfan/Desktop/皮皮熊/麦8号/CRMEB-BZ v5.2.1(20231106)/template/uni-app/pages/users/message_center/index.vue?af5d","webpack:////Users/yangfan/Desktop/皮皮熊/麦8号/CRMEB-BZ v5.2.1(20231106)/template/uni-app/pages/users/message_center/index.vue?aa84"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","mixins","components","home","tuiDrawer","data","imgHost","list","page","type","limit","loading","finished","tabsList","key","name","startData","clientX","clientY","actions","color","fontsize","width","background","actionsIsLook","onShow","onReachBottom","onPullDownRefresh","methods","start","end","console","bindClick","id","value","uni","title","icon","item","allLook","all","changeTabs","messageSystem","then","catch","getList","replace_em","str","goChat","url","goDetail"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACsC;;;AAG1F;AAC4N;AAC5N,gBAAgB,iNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjFA;AAAA;AAAA;AAAA;AAA+3B,CAAgB,myBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;AC2En5B;AAKA;AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAGA;EACAC;EACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;MACA;QACAD;QACAC;MACA;MACAC;QACAC;QACAC;MACA;MACAC;QACAJ;QACAK;QACAC;QAAA;QACAC;QAAA;QACAC;MACA,GACA;QACAR;QACAK;QACAC;QAAA;QACAC;QAAA;QACAC;MACA,EACA;MACAC;QACAT;QACAK;QACAC;QAAA;QACAC;QAAA;QACAC;MACA;IACA;EACA;EACAE;IACA;IACA;IACA;EACA;EACAC;IACA;MACA;IACA;MACA;IACA;EACA;EACAC;IACA;IACA;IACA;IACA;MACA;IACA;MACA;IACA;EACA;EACAC;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;QACAC;MACA;QACA;UACAA;UACA;YACA;YACA;UACA;QACA;UACA;YACA;YACA;UACA;UACAA;QACA;UACAA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QACA;UACAC;UACAnB;UACAoB;QACA;UACA;YACA;UACA;UACA;QACA;UACAC;YACAC;YACAC;UACA;QACA;MACA;QACA;QACA;UACAJ;UACAnB;UACAoB;QACA;UACAI;QACA;UACAH;YACAC;YACAC;UACA;QACA;MACA;IACA;IACAE;MAAA;MACA;QACAN;QACAnB;QACAoB;QACAM;MACA;QACA;QACA;QACA;QACA;QACA;UACA;QACA;UACA;QACA;MACA;QACAL;UACAC;UACAC;QACA;MACA;IACA;IACAI;MACA;MACA;MACA;MACA;MACA;MACA;QACA;MACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QACA;MACA;MACA;MACAP;QACAC;MACA;MACA;QACA5B;QACAE;MACA,GACAiC;QACA;QACAR;QACA;QACA;QACA;QACA;QACAA;MACA,GACAS;QACAT;UACAC;UACAC;QACA;MACA;IACA;IACA;IACAQ;MAAA;MACA;QACA;MACA;MACA;MACAV;QACAC;MACA;MACA;QACA5B;QACAE;MACA,GACAiC;QACAR;QACA;QACAA;QACA;QACA9B;UACA;YACAiC;UACA;UACA;YACAA;UACA;QACA;QACA;QACA;QACA;MACA,GACAM;QACAT;UACAC;UACAC;QACA;MACA;IACA;IACAS;MACAC;MACA;IACA;IACAC;MACAV;MACAH;QACAc;MACA;IACA;IACAC;MACAf;QACAc;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACjVA;AAAA;AAAA;AAAA;AAAsqD,CAAgB,07CAAG,EAAC,C;;;;;;;;;;;ACA1rD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/users/message_center/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/users/message_center/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=730fb130&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=730fb130&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"730fb130\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/users/message_center/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=730fb130&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.tabsList, function (item, index) {\n    var $orig = _vm.__get_orig(item)\n    var m0 = _vm.$t(item.name)\n    return {\n      $orig: $orig,\n      m0: m0,\n    }\n  })\n  var m1 = _vm.$t(\"全部已读\")\n  var g0 = _vm.list.length && _vm.type === 1\n  var l1 = g0\n    ? _vm.__map(_vm.list, function (item, index) {\n        var $orig = _vm.__get_orig(item)\n        var m2 = _vm.$t(item.nickname)\n        var m3 = item.message_type === 3 ? _vm.$t(\"[图片]\") : null\n        var m4 = item.message_type === 4 ? _vm.$t(\"[语音]\") : null\n        var m5 = item.message_type === 5 ? _vm.$t(\"[商品]\") : null\n        var m6 = item.message_type === 6 ? _vm.$t(\"[订单]\") : null\n        return {\n          $orig: $orig,\n          m2: m2,\n          m3: m3,\n          m4: m4,\n          m5: m5,\n          m6: m6,\n        }\n      })\n    : null\n  var g1 = _vm.list.length && _vm.type === 0\n  var l2 = g1\n    ? _vm.__map(_vm.list, function (item, index) {\n        var $orig = _vm.__get_orig(item)\n        var a0 = {\n          id: item.id,\n        }\n        var m7 = _vm.$t(item.title) || \"--\"\n        return {\n          $orig: $orig,\n          a0: a0,\n          m7: m7,\n        }\n      })\n    : null\n  var g2 = !g1 ? _vm.finished && !_vm.list.length : null\n  var m8 = !g1 && g2 ? _vm.$t(\"亲、暂无消息记录哟！\") : null\n  if (!_vm._isMounted) {\n    _vm.e0 = function (e, item) {\n      var args = [],\n        len = arguments.length - 2\n      while (len-- > 0) args[len] = arguments[len + 2]\n\n      var _temp = args[args.length - 1].currentTarget.dataset,\n        _temp2 = _temp.eventParams || _temp[\"event-params\"],\n        item = _temp2.item\n      var _temp, _temp2\n      return _vm.bindClick(e, item)\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        m1: m1,\n        g0: g0,\n        l1: l1,\n        g1: g1,\n        l2: l2,\n        g2: g2,\n        m8: m8,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"main\">\r\n\t\t<view class=\"top-tabs\" :style=\"colorStyle\">\r\n\t\t\t<view class=\"tabs\">\r\n\t\t\t\t<view class=\"item\" :class=\"{btborder:type === index}\" v-for=\"(item,index) in tabsList\" :key=\"index\"\r\n\t\t\t\t\t@tap=\"changeTabs(index)\">\r\n\t\t\t\t\t{{$t(item.name)}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"read-all\" @click=\"allLook()\">\r\n\t\t\t\t{{$t(`全部已读`)}}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view v-if=\"list.length && type ===1\" class=\"list\">\r\n\t\t\t<view v-for=\"(item, index) in list\" :key=\"index\" class=\"item\" @click=\"goChat(item)\">\r\n\t\t\t\t<view class=\"image-wrap\">\r\n\t\t\t\t\t<image class=\"image\" :src=\"item.avatar\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"text-wrap\">\r\n\t\t\t\t\t<view class=\"name-wrap\">\r\n\t\t\t\t\t\t<view class=\"name\">{{ $t(item.nickname) }}</view>\r\n\t\t\t\t\t\t<view>{{ item._update_time }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"info-wrap\">\r\n\t\t\t\t\t\t<view v-if=\"item.message_type === 1\" class=\"info\" v-html=\"item.message\"></view>\r\n\t\t\t\t\t\t<view v-if=\"item.message_type === 2\" class=\"info\" v-html=\"item.message\"></view>\r\n\t\t\t\t\t\t<view v-if=\"item.message_type === 3\" class=\"info\">{{$t(`[图片]`)}}</view>\r\n\t\t\t\t\t\t<view v-if=\"item.message_type === 4\" class=\"info\">{{$t(`[语音]`)}}</view>\r\n\t\t\t\t\t\t<view v-if=\"item.message_type === 5\" class=\"info\">{{$t(`[商品]`)}}</view>\r\n\t\t\t\t\t\t<view v-if=\"item.message_type === 6\" class=\"info\">{{$t(`[订单]`)}}</view>\r\n\t\t\t\t\t\t<view class=\"num\" v-if=\"item.mssage_num\">{{ item.mssage_num }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"list\" v-if=\"list.length && type === 0\">\r\n\t\t\t<view v-for=\"(item, index) in list\" :key=\"index\">\r\n\t\t\t\t<tuiDrawer @click=\"(e)=>bindClick(e,item)\" :key=\"item.id\" :actions=\"!item.look ? actions :actionsIsLook\"\r\n\t\t\t\t\t:params=\"{id:item.id}\">\r\n\t\t\t\t\t<template v-slot:content>\r\n\t\t\t\t\t\t<view class=\"item\" @click=\"goDetail(item.id)\">\r\n\t\t\t\t\t\t\t<view class=\"image-wrap\">\r\n\t\t\t\t\t\t\t\t<image v-if=\"item.type === 1\" class=\"image\" src=\"../static/admin-msg.png\"></image>\r\n\t\t\t\t\t\t\t\t<image v-else class=\"image\" src=\"../static/user-msg.png\"></image>\r\n\t\t\t\t\t\t\t\t<view class=\"no-look\" v-if=\"!item.look\"></view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"text-wrap\">\r\n\t\t\t\t\t\t\t\t<view class=\"name-wrap\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"name\">{{ $t(item.title) || '--' }}</view>\r\n\t\t\t\t\t\t\t\t\t<view>{{ item.add_time }}</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"info-wrap\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"info\" v-html=\"item.content\"></view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t</template>\r\n\r\n\t\t\t\t</tuiDrawer>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view v-else-if=\"finished && !list.length\" class=\"empty-wrap\">\r\n\t\t\t<view class=\"image-wrap\">\r\n\t\t\t\t<image class=\"image\" :src=\"imgHost + '/statics/images/noMessage.png'\"></image>\r\n\t\t\t</view>\r\n\t\t\t<view>{{$t(`亲、暂无消息记录哟！`)}}</view>\r\n\t\t</view>\r\n\t\t<!-- #ifndef MP -->\r\n\t\t<home></home>\r\n\t\t<!-- #endif -->\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tserviceRecord,\r\n\t\tmessageSystem,\n\t\tmsgLookDel\r\n\t} from '@/api/user.js';\r\n\timport colors from '@/mixins/color.js';\r\n\timport home from '@/components/home';\r\n\timport tuiDrawer from '@/components/tuiDrawer/index.vue'\r\n\timport {\r\n\t\tHTTP_REQUEST_URL\r\n\t} from '@/config/app';\r\n\texport default {\r\n\t\tmixins: [colors],\r\n\t\tcomponents: {\r\n\t\t\thome,\r\n\t\t\ttuiDrawer\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\timgHost: HTTP_REQUEST_URL,\r\n\t\t\t\tlist: [],\r\n\t\t\t\tpage: 1,\r\n\t\t\t\ttype: 0,\r\n\t\t\t\tlimit: 20,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tfinished: false,\r\n\t\t\t\ttabsList: [{\r\n\t\t\t\t\tkey: 0,\r\n\t\t\t\t\tname: '站内消息'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tkey: 1,\r\n\t\t\t\t\tname: '客服消息'\r\n\t\t\t\t}],\r\n\t\t\t\tstartData: {\r\n\t\t\t\t\tclientX: 0,\r\n\t\t\t\t\tclientY: 0\r\n\t\t\t\t},\r\n\t\t\t\tactions: [{\r\n\t\t\t\t\t\tname: '删除',\r\n\t\t\t\t\t\tcolor: '#fff',\r\n\t\t\t\t\t\tfontsize: 28, //单位rpx\r\n\t\t\t\t\t\twidth: 70, //单位px\r\n\t\t\t\t\t\tbackground: '#E6A23C'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '已读',\r\n\t\t\t\t\t\tcolor: '#fff',\r\n\t\t\t\t\t\tfontsize: 28, //单位rpx\r\n\t\t\t\t\t\twidth: 70, //单位px\r\n\t\t\t\t\t\tbackground: '#409EFF'\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\tactionsIsLook: [{\r\n\t\t\t\t\tname: '删除',\r\n\t\t\t\t\tcolor: '#fff',\r\n\t\t\t\t\tfontsize: 28, //单位rpx\r\n\t\t\t\t\twidth: 70, //单位px\r\n\t\t\t\t\tbackground: '#E6A23C'\r\n\t\t\t\t}, ]\r\n\t\t\t};\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.page = 1\r\n\t\t\tthis.list = []\r\n\t\t\tthis.changeTabs(this.type)\r\n\t\t},\r\n\t\tonReachBottom() {\r\n\t\t\tif (this.type === 1) {\r\n\t\t\t\tthis.getList()\r\n\t\t\t} else {\r\n\t\t\t\tthis.messageSystem()\r\n\t\t\t}\r\n\t\t},\r\n\t\tonPullDownRefresh() {\r\n\t\t\tthis.page = 1\r\n\t\t\tthis.finished = false\r\n\t\t\tthis.list = []\r\n\t\t\tif (this.type === 1) {\r\n\t\t\t\tthis.getList()\r\n\t\t\t} else {\r\n\t\t\t\tthis.messageSystem()\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tstart(e) {\r\n\t\t\t\tthis.startData.clientX = e.changedTouches[0].clientX;\r\n\t\t\t\tthis.startData.clientY = e.changedTouches[0].clientY;\r\n\t\t\t},\r\n\t\t\tend(e) {\r\n\t\t\t\tconst subX = e.changedTouches[0].clientX - this.startData.clientX;\r\n\t\t\t\tconst subY = e.changedTouches[0].clientY - this.startData.clientY;\r\n\t\t\t\tif (subY > 50 || subY < -50) {\r\n\t\t\t\t\tconsole.log('上下滑')\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (subX > 50) {\r\n\t\t\t\t\t\tconsole.log('右滑')\r\n\t\t\t\t\t\tif (this.type == 1) {\r\n\t\t\t\t\t\t\tthis.type = 0\r\n\t\t\t\t\t\t\tthis.changeTabs(this.type)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (subX < -50) {\r\n\t\t\t\t\t\tif (this.type == 0) {\r\n\t\t\t\t\t\t\tthis.type = 1\r\n\t\t\t\t\t\t\tthis.changeTabs(this.type)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log('左滑')\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log('无效')\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 滑动点击操作\r\n\t\t\tbindClick(e, item) {\r\n\t\t\t\tif (e.index == 0) {\n\t\t\t\t\tmsgLookDel({\n\t\t\t\t\t\tid: item.id,\n\t\t\t\t\t\tkey: 'is_del',\n\t\t\t\t\t\tvalue: 1\n\t\t\t\t\t}).then(res => {\n\t\t\t\t\t\tlet i = this.list.findIndex(e=>{\n\t\t\t\t\t\t\treturn e.id === item.id\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.list.splice(i,1)\n\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: err.msg,\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 已读\n\t\t\t\t\tmsgLookDel({\r\n\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\tkey: 'look',\n\t\t\t\t\t\tvalue: 1\r\n\t\t\t\t\t}).then(res => {\n\t\t\t\t\t\titem.look = 1\r\n\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: err.msg,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\n\t\t\tallLook() {\n\t\t\t\tmsgLookDel({\n\t\t\t\t\tid: 0,\n\t\t\t\t\tkey: 'look',\n\t\t\t\t\tvalue: 1,\n\t\t\t\t\tall: 1\n\t\t\t\t}).then(res => {\n\t\t\t\t\tthis.page = 1\n\t\t\t\t\tthis.limit = 20\n\t\t\t\t\tthis.list = []\n\t\t\t\t\tthis.finished = false\n\t\t\t\t\tif (this.type === 1) {\n\t\t\t\t\t\tthis.getList()\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.messageSystem()\n\t\t\t\t\t}\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: err.msg,\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\r\n\t\t\tchangeTabs(index) {\r\n\t\t\t\tthis.type = index\r\n\t\t\t\tthis.page = 1\r\n\t\t\t\tthis.limit = 20\r\n\t\t\t\tthis.list = []\r\n\t\t\t\tthis.finished = false\r\n\t\t\t\tif (index === 1) {\r\n\t\t\t\t\tthis.getList()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.messageSystem()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 站内信\r\n\t\t\tmessageSystem() {\r\n\t\t\t\tif (this.loading || this.finished) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.loading = true;\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: this.$t(`加载中`)\r\n\t\t\t\t});\r\n\t\t\t\tmessageSystem({\r\n\t\t\t\t\t\tpage: this.page,\r\n\t\t\t\t\t\tlimit: this.limit\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tlet data = res.data;\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t\tthis.list = this.list.concat(data.list);\r\n\t\t\t\t\t\tthis.finished = data.list.length < this.limit;\r\n\t\t\t\t\t\tthis.page += 1;\r\n\t\t\t\t\t\tuni.stopPullDownRefresh();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: err.msg,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 客服list\r\n\t\t\tgetList() {\r\n\t\t\t\tif (this.loading || this.finished) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.loading = true;\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '加载中'\r\n\t\t\t\t});\r\n\t\t\t\tserviceRecord({\r\n\t\t\t\t\t\tpage: this.page,\r\n\t\t\t\t\t\tlimit: this.limit\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tuni.stopPullDownRefresh();\r\n\t\t\t\t\t\tlet data = res.data;\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t\tdata.forEach(item => {\r\n\t\t\t\t\t\t\tif (item.message_type === 1) {\r\n\t\t\t\t\t\t\t\titem.message = this.replace_em(item.message);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (item.message_type === 2) {\r\n\t\t\t\t\t\t\t\titem.message = this.replace_em(item.message);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.list = this.list.concat(data);\r\n\t\t\t\t\t\tthis.finished = data.length < this.limit;\r\n\t\t\t\t\t\tthis.page += 1;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: err.msg,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t},\r\n\t\t\treplace_em(str) {\r\n\t\t\t\tstr = str.replace(/\\[([^\\[\\]]+)\\]/g, \"<span class='em $1'/></span>\");\r\n\t\t\t\treturn str;\r\n\t\t\t},\r\n\t\t\tgoChat(item) {\n\t\t\t\titem.mssage_num = 0\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/extension/customer_list/chat?to_uid=' + item.to_uid + '&type=1'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoDetail(id) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/users/message_center/messageDetail?id=' + id,\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.list {\r\n\t\t// background-color: #fff;\r\n\t\toverflow: hidden;\r\n\t\tpadding-top: 100rpx;\r\n\r\n\t\t.item {\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\t// height: 130rpx;\r\n\t\t\tpadding: 30rpx 30rpx;\r\n\t\t\tmargin: 10rpx 20rpx;\r\n\t\t\tborder-radius: 12rpx;\r\n\t\t\tbox-shadow: 0px 0px 1px 0px rgba(235, 214, 214, 0.75);\r\n\t\t\t-webkit-box-shadow: 0px 0px 1px 0px rgba(235, 214, 214, 0.75);\r\n\t\t\t-moz-box-shadow: 0px 0px 1px 0px rgba(235, 214, 214, 0.75);\r\n\r\n\t\t\t~.item {\r\n\t\t\t\tborder-top: 1rpx solid #f5f5f5;\r\n\t\t\t}\r\n\r\n\t\t\t.image {\r\n\t\t\t\tborder-radius: 50%;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t.image-wrap {\r\n\t\t\twidth: 88rpx;\r\n\t\t\theight: 88rpx;\r\n\t\t\tborder-radius: 50%;\r\n\t\t\tposition: relative;\r\n\r\n\t\t\t.no-look {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\twidth: 18rpx;\r\n\t\t\t\theight: 18rpx;\r\n\t\t\t\tborder-radius: 50%;\r\n\t\t\t\tbackground-color: #1ABB1D;\r\n\t\t\t\ttop: 0rpx;\r\n\t\t\t\tright: 0rpx;\r\n\t\t\t\tz-index: 999;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.image {\r\n\t\t\tdisplay: block;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t}\r\n\r\n\t\t.text-wrap {\r\n\t\t\tflex: 1;\r\n\t\t\tmin-width: 0;\r\n\t\t\tmargin-left: 20rpx;\r\n\t\t}\r\n\r\n\t\t.name-wrap {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tfont-size: 20rpx;\r\n\t\t\tcolor: #ccc;\r\n\t\t}\r\n\r\n\t\t.name {\r\n\t\t\tflex: 1;\r\n\t\t\tmin-width: 0;\r\n\t\t\tmargin-right: 20rpx;\r\n\t\t\toverflow: hidden;\r\n\t\t\twhite-space: nowrap;\r\n\t\t\ttext-overflow: ellipsis;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #333;\r\n\t\t}\r\n\r\n\t\t.info-wrap {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tmargin-top: 18rpx;\r\n\t\t}\r\n\r\n\t\t.info {\r\n\t\t\tflex: 1;\r\n\t\t\tmin-width: 0;\r\n\t\t\toverflow: hidden;\r\n\t\t\twhite-space: nowrap;\r\n\t\t\ttext-overflow: ellipsis;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #999;\r\n\t\t}\r\n\r\n\t\t.num {\r\n\t\t\tmin-width: 32rpx;\r\n\t\t\theight: 32rpx;\r\n\t\t\tborder-radius: 16rpx;\r\n\t\t\tmargin-left: 20rpx;\r\n\t\t\tbackground-color: #e93323;\r\n\t\t\tfont-size: 20rpx;\r\n\t\t\tline-height: 32rpx;\r\n\t\t\ttext-align: center;\r\n\t\t\tcolor: #fff;\r\n\t\t}\r\n\t}\r\n\r\n\t.empty-wrap {\r\n\t\tfont-size: 26rpx;\r\n\t\ttext-align: center;\r\n\t\tcolor: #999;\r\n\r\n\t\t.image-wrap {\r\n\t\t\twidth: 414rpx;\r\n\t\t\theight: 436rpx;\r\n\t\t\tpadding-top: 100rpx;\r\n\t\t\tmargin: 0rpx auto 0;\r\n\t\t}\r\n\r\n\t\t.image {\r\n\t\t\tdisplay: block;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t}\r\n\t}\r\n\r\n\t.main {\r\n\t\tposition: relative;\r\n\t\tmin-height: 100vh;\r\n\t}\r\n\r\n\t.top-tabs {\r\n\t\tposition: fixed;\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tbackground-color: #fff;\r\n\t\tfont-size: 28rpx;\r\n\t\tborder-radius: 8rpx;\r\n\t\tpadding: 20rpx 0;\r\n\t\tmargin-bottom: 10rpx;\r\n\t\tz-index: 1000;\r\n\t\ttransition: all 0.3s;\r\n\t\tjustify-content: space-between;\r\n\r\n\t\t.read-all {\r\n\t\t\tmargin-right: 24rpx;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.tabs {\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.item {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tpadding: 4rpx 15rpx;\r\n\t\tmargin: 0 20rpx;\r\n\t\tanimation: Gradient 0.3s;\r\n\t\tborder-radius: 30rpx;\r\n\t\ttransition: all 0.4s;\r\n\t}\r\n\r\n\t.btborder {\r\n\t\tcolor: #fff;\r\n\t\tbackground-color: var(--view-theme);\r\n\t\tborder-radius: 30rpx;\r\n\t}\r\n\r\n\t@-webkit-keyframes Gradient {\r\n\t\t0% {\r\n\t\t\tbackground-color: pink;\r\n\t\t}\r\n\r\n\t\t50% {\r\n\t\t\tbackground-position: 100% 50%\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\tbackground-position: 0% 50%\r\n\t\t}\r\n\t}\r\n\r\n\t@-moz-keyframes Gradient {\r\n\t\t0% {\r\n\t\t\tbackground-position: 0% 50%\r\n\t\t}\r\n\r\n\t\t50% {\r\n\t\t\tbackground-position: 100% 50%\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\tbackground-position: 0% 50%\r\n\t\t}\r\n\t}\r\n\r\n\t@keyframes Gradient {\r\n\t\t0% {\r\n\t\t\tbackground-position: 0% 50%\r\n\t\t}\r\n\r\n\t\t50% {\r\n\t\t\tbackground-position: 100% 50%\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\tbackground-position: 0% 50%\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=730fb130&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=730fb130&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1699920882859\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}