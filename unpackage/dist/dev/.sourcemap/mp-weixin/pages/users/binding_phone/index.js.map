{"version":3,"sources":["uni-app:///main.js","webpack:////Users/yangfan/Desktop/皮皮熊/麦8号/CRMEB-BZ v5.2.1(20231106)/template/uni-app/pages/users/binding_phone/index.vue?2797","webpack:////Users/yangfan/Desktop/皮皮熊/麦8号/CRMEB-BZ v5.2.1(20231106)/template/uni-app/pages/users/binding_phone/index.vue?38fa","webpack:////Users/yangfan/Desktop/皮皮熊/麦8号/CRMEB-BZ v5.2.1(20231106)/template/uni-app/pages/users/binding_phone/index.vue?7159","webpack:////Users/yangfan/Desktop/皮皮熊/麦8号/CRMEB-BZ v5.2.1(20231106)/template/uni-app/pages/users/binding_phone/index.vue?7aba","uni-app:///pages/users/binding_phone/index.vue","webpack:////Users/yangfan/Desktop/皮皮熊/麦8号/CRMEB-BZ v5.2.1(20231106)/template/uni-app/pages/users/binding_phone/index.vue?76e6","webpack:////Users/yangfan/Desktop/皮皮熊/麦8号/CRMEB-BZ v5.2.1(20231106)/template/uni-app/pages/users/binding_phone/index.vue?3ca7"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","mixins","components","Verify","editUserModal","privacyAgreementPopup","data","statusBarHeight","pageType","phone","captcha","text","isShow","protocol","inAnimation","authKey","backUrl","pageTitle","configData","canGetPrivacySetting","onLoad","methods","onAgree","submitData","rules","uni","title","icon","duration","that","isLogin","Routine","then","code","spread_spid","spread_code","token","time","catch","console","phoneAuth","met","key","getUserInfo","tab","url","success","ChangeIsDefault","closeEdit","editSuccess","back","delta","privacy"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACsC;;;AAG1F;AAC4N;AAC5N,gBAAgB,iNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrDA;AAAA;AAAA;AAAA;AAA+3B,CAAgB,myBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;ACiEn5B;AACA;AAGA;AAMA;AAMA;AAIA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAxBA;AACA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eAwBA;EACAC;EACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;MACA;IACA;IAEA;MACA;IACA;IAGA;IACA;MACA;MACA;IACA;IACA;IACA;IACA;MACA;IACA;MACA;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;MACA;QACA;QACA;MACA;MACA;MACA;QACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;MACA;QACAC;UACAC;UACAC;UACAC;QACA;QACA;MACA;MACA;QACAC;UACAH;QACA;QACA;MACA;MACA;QACAG;UACAH;QACA;QACA;MACA;MACA;QACA;UACAA;QACA;QACA;MACA;MACA;IACA;IACAI;MAAA;MACA;MAEAL;QACAC;MACA;MACAK,2BACAC;QACA;UACAC;UACAC;UACAC;UACA1B;UACAC;QACA;UACAe;UACA;UACA;YACAW;YACAC;UACA;UACA;QACA,GACAC;UACAb;UACAA;YACAC;YACAC;YACAC;UACA;QACA;MACA,GACAU;QACAC;MACA;IACA;IACAC;MAAA;MACAf;QACAC;MACA;MACA;MAEAe;MAKAA;QACAhC;QACAC;QACAgC;MACA;QACA;QACA;UACAN;UACAC;QACA;QACA;MACA;QACAZ;QACA;UACAC;QACA;MACA;IACA;IACA;AACA;AACA;IACAiB;MAAA;MACA;MACA;QACAlB;QACAI;QACAA;QACAA;QACA;UACA;QACA;UAEAA;YACAH;YACAC;UACA;YACAiB;YACAC;UACA;QAWA;MACA;IACA;IACAC;MAAA;MACA;MACA;MACA;QACA,0GACAd;UACAH;YACAH;UACA;UACAG;QACA;UACA;YACAH;UACA;QACA;MACA;IACA;IACA;AACA;AACA;AACA;IACAO;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAJ;gBAAA,IACAA;kBAAA;kBAAA;gBAAA;gBAAA;kBACAH;gBACA;cAAA;gBAAA,IACA;kBAAA;kBAAA;gBAAA;gBAAA;kBACAA;gBACA;cAAA;gBACA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACAqB;MACA;IACA;IACAC;MACA;MACA;QACAtB;QACAC;MACA;QACAiB;QACAC;MACA;IACA;IACAI;MACA;IACA;IACAC;MACAzB;QACA0B;MACA;IACA;IACAC;MACA3B;QACAoB;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACrVA;AAAA;AAAA;AAAA;AAAsqD,CAAgB,07CAAG,EAAC,C;;;;;;;;;;;ACA1rD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/users/binding_phone/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/users/binding_phone/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=60acfcf2&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=60acfcf2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"60acfcf2\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/users/binding_phone/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=60acfcf2&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.$t(_vm.pageTitle)\n  var m1 = _vm.pageType == 1 ? _vm.$t(\"绑定手机号\") : null\n  var m2 = !(_vm.pageType == 1) ? _vm.$t(\"手机号登录\") : null\n  var m3 = _vm.pageType == 1 ? _vm.$t(\"登录注册需绑定手机号\") : null\n  var m4 = !(_vm.pageType == 1) ? _vm.$t(\"首次登录会自动注册\") : null\n  var m5 = _vm.$t(\"填写手机号码\")\n  var m6 = _vm.$t(\"填写验证码\")\n  var m7 = _vm.$t(\"\" + (_vm.pageType == 1 ? \"绑定手机号\" : \"立即登录\"))\n  var m8 =\n    _vm.pageType == 0 && !_vm.canGetPrivacySetting\n      ? _vm.$t(\"已阅读并同意\")\n      : null\n  var m9 =\n    _vm.pageType == 0 && !_vm.canGetPrivacySetting\n      ? _vm.$t(\"《用户协议》\")\n      : null\n  var m10 = _vm.pageType == 0 && !_vm.canGetPrivacySetting ? _vm.$t(\"与\") : null\n  var m11 =\n    _vm.pageType == 0 && !_vm.canGetPrivacySetting\n      ? _vm.$t(\"《隐私协议》\")\n      : null\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.inAnimation = false\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n        m2: m2,\n        m3: m3,\n        m4: m4,\n        m5: m5,\n        m6: m6,\n        m7: m7,\n        m8: m8,\n        m9: m9,\n        m10: m10,\n        m11: m11,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"wrapper\" :style=\"colorStyle\">\r\n\t\t<view class=\"bag\"></view>\r\n\t\t<view class=\"system-height\" :style=\"{ height: statusBarHeight }\"></view>\r\n\t\t<!-- #ifdef MP -->\r\n\t\t<view class=\"title-bar\" style=\"height: 43px;\">\r\n\t\t\t<view class=\"icon\" @click=\"back\" v-if=\"!isHome\">\r\n\t\t\t\t<image src=\"../static/left.png\"></image>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"icon\" @click=\"home\" v-else>\r\n\t\t\t\t<image src=\"../static/home.png\"></image>\r\n\t\t\t</view>\r\n\t\t\t{{$t(pageTitle)}}\r\n\t\t</view>\r\n\t\t<!-- #endif -->\r\n\t\t<view class=\"page-msg\">\r\n\t\t\t<view class=\"title\">\r\n\t\t\t\t{{pageType == 1?$t('绑定手机号'):$t('手机号登录')}}\r\n\t\t\t</view>\r\n\t\t\t<view class=\"tip\">\r\n\t\t\t\t{{pageType == 1?$t('登录注册需绑定手机号'):$t('首次登录会自动注册')}}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"page-form\">\r\n\t\t\t<view class=\"item\">\r\n\t\t\t\t<input type='number' :placeholder='$t(`填写手机号码`)' placeholder-class='placeholder' v-model=\"phone\"\r\n\t\t\t\t\t:maxlength=\"11\"></input>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"item acea-row row-between-wrapper\">\r\n\t\t\t\t<input type='number' :placeholder='$t(`填写验证码`)' placeholder-class='placeholder' :maxlength=\"6\"\r\n\t\t\t\t\tclass=\"codeIput\" v-model=\"captcha\"></input>\r\n\t\t\t\t<view class=\"line\">\r\n\r\n\t\t\t\t</view>\r\n\t\t\t\t<button class=\"code font-num\" :class=\"disabled === true ? 'on' : ''\" :disabled='disabled' @click=\"code\">\r\n\t\t\t\t\t{{ text }}\r\n\t\t\t\t</button>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"btn\" @click=\"submitData\">\r\n\t\t\t\t{{$t(`${pageType == 1 ? '绑定手机号' : '立即登录'}`)}}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"protocol\" v-if=\"pageType == 0 && !canGetPrivacySetting\">\r\n\t\t\t<checkbox-group @click.stop='ChangeIsDefault'>\r\n\t\t\t\t<checkbox :class=\"inAnimation?'trembling':''\" @animationend='inAnimation=false'\r\n\t\t\t\t\t:checked=\"protocol ? true : false\" /> <text @click.stop='ChangeIsDefault'>{{$t(`已阅读并同意`)}}</text>\r\n\t\t\t\t<text class=\"main-color\" @click.stop=\"privacy(4)\">{{$t(`《用户协议》`)}}</text>\r\n\t\t\t\t{{$t(`与`)}}<text class=\"main-color\" @click.stop=\"privacy(3)\">{{$t(`《隐私协议》`)}}</text>\r\n\t\t\t</checkbox-group>\r\n\t\t</view>\r\n\t\t<Verify @success=\"success\" :captchaType=\"'clickWord'\" :imgSize=\"{ width: '330px', height: '155px' }\"\r\n\t\t\tref=\"verify\"></Verify>\r\n\t\t<editUserModal :isShow=\"isShow\" @closeEdit=\"closeEdit\" @editSuccess=\"editSuccess\">\r\n\t\t</editUserModal>\r\n\t\t<!-- #ifdef MP -->\r\n\t\t<privacyAgreementPopup v-if=\"canGetPrivacySetting\" @onReject=\"onReject\" @onAgree=\"onAgree\">\r\n\t\t</privacyAgreementPopup>\r\n\t\t<!-- #endif -->\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tconst app = getApp();\r\n\tlet statusBarHeight = uni.getSystemInfoSync().statusBarHeight + 'px';\r\n\timport sendVerifyCode from \"@/mixins/SendVerifyCode\";\r\n\timport colors from '@/mixins/color.js';\r\n\timport editUserModal from '@/components/eidtUserModal/index.vue'\r\n\timport privacyAgreementPopup from '@/components/privacyAgreementPopup/index.vue'\r\n\timport {\r\n\t\tbindingUserPhone,\r\n\t\tverifyCode,\r\n\t\tregisterVerify,\r\n\t\tupdatePhone\r\n\t} from '@/api/api.js';\r\n\timport {\r\n\t\tloginMobile,\r\n\t\tgetCodeApi,\r\n\t\tgetUserInfo,\r\n\t\tphoneSilenceAuth\r\n\t} from \"@/api/user.js\";\r\n\timport {\r\n\t\tphoneLogin,\r\n\t\twechatBindingPhone\r\n\t} from '@/api/public.js'\r\n\timport Routine from '@/libs/routine';\r\n\timport Verify from '../components/verify/index.vue';\r\n\timport Cache from '@/utils/cache';\r\n\texport default {\r\n\t\tmixins: [sendVerifyCode, colors],\r\n\t\tcomponents: {\r\n\t\t\tVerify,\r\n\t\t\teditUserModal,\r\n\t\t\tprivacyAgreementPopup\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tstatusBarHeight: statusBarHeight,\r\n\t\t\t\tpageType: 1, // 0 登录 1 绑定手机\r\n\t\t\t\tphone: '',\r\n\t\t\t\tcaptcha: '',\r\n\t\t\t\ttext: '获取验证码',\r\n\t\t\t\tisShow: false,\r\n\t\t\t\tprotocol: false,\r\n\t\t\t\tinAnimation: false,\r\n\t\t\t\tauthKey: \"\",\r\n\t\t\t\tbackUrl: \"\",\r\n\t\t\t\tpageTitle: '绑定手机号',\r\n\t\t\t\tconfigData: Cache.get('BASIC_CONFIG'),\r\n\t\t\t\tcanGetPrivacySetting: false,\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tif (options.authKey) {\r\n\t\t\t\tthis.authKey = options.authKey\r\n\t\t\t}\r\n\t\t\t// #ifdef MP\r\n\t\t\tif (wx.getPrivacySetting) {\r\n\t\t\t\tthis.canGetPrivacySetting = true\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\r\n\t\t\tthis.backUrl = options.backUrl || ''\r\n\t\t\tif (options.pageType) {\r\n\t\t\t\tthis.pageType = options.pageType || 1\r\n\t\t\t\tthis.pageTitle = options.pageType == 1 ? '绑定手机号' : '手机号登录'\r\n\t\t\t}\r\n\t\t\tlet pages = getCurrentPages();\r\n\t\t\tlet prePage = pages[pages.length - 2];\r\n\t\t\tif (prePage && prePage.route == 'pages/order_addcart/order_addcart') {\r\n\t\t\t\tthis.isHome = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.isHome = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonAgree() {\r\n\t\t\t\tthis.protocol = true\r\n\t\t\t},\r\n\t\t\tsubmitData() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tif (this.pageType == 0) {\r\n\t\t\t\t\tthis.isLogin()\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.rules()) return\r\n\t\t\t\tif (!this.authKey) {\r\n\t\t\t\t\tlet key = this.$Cache.get('snsapiKey');\r\n\t\t\t\t\tthis.phoneAuth(key)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.phoneAuth(this.authKey)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\trules() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tif (!this.protocol && this.pageType == 0) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: this.$t('请先阅读并同意协议'),\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t\tif (!that.phone) {\r\n\t\t\t\t\tthat.$util.Tips({\r\n\t\t\t\t\t\ttitle: that.$t(`请填写手机号码`)\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t\tif (!(/^1(3|4|5|7|8|9|6)\\d{9}$/i.test(that.phone))) {\r\n\t\t\t\t\tthat.$util.Tips({\r\n\t\t\t\t\t\ttitle: that.$t(`请输入正确的手机号码`)\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t\tif (!that.captcha) {\r\n\t\t\t\t\treturn that.$util.Tips({\r\n\t\t\t\t\t\ttitle: that.$t(`请填写验证码`)\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t\treturn true\r\n\t\t\t},\r\n\t\t\tisLogin() {\r\n\t\t\t\tif (!this.rules()) return\r\n\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: this.$t(`正在登录中`)\r\n\t\t\t\t});\r\n\t\t\t\tRoutine.getCode()\r\n\t\t\t\t\t.then(code => {\r\n\t\t\t\t\t\tphoneLogin({\r\n\t\t\t\t\t\t\t\tcode,\r\n\t\t\t\t\t\t\t\tspread_spid: app.globalData.spid,\r\n\t\t\t\t\t\t\t\tspread_code: app.globalData.code,\r\n\t\t\t\t\t\t\t\tphone: this.phone,\r\n\t\t\t\t\t\t\t\tcaptcha: this.captcha,\r\n\t\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tlet time = res.data.expires_time - this.$Cache.time();\r\n\t\t\t\t\t\t\t\tthis.$store.commit('LOGIN', {\r\n\t\t\t\t\t\t\t\t\ttoken: res.data.token,\r\n\t\t\t\t\t\t\t\t\ttime: time\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tthis.getUserInfo(res.data.bindName);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: err,\r\n\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tphoneAuth(key) {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: this.$t(`正在登录中`)\r\n\t\t\t\t});\r\n\t\t\t\tlet met\r\n\t\t\t\t// #ifdef MP\r\n\t\t\t\tmet = phoneLogin\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifndef MP\r\n\t\t\t\tmet = wechatBindingPhone\r\n\t\t\t\t// #endif\r\n\t\t\t\tmet({\r\n\t\t\t\t\tphone: this.phone,\r\n\t\t\t\t\tcaptcha: this.captcha,\r\n\t\t\t\t\tkey\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tlet time = res.data.expires_time - this.$Cache.time();\r\n\t\t\t\t\tthis.$store.commit('LOGIN', {\r\n\t\t\t\t\t\ttoken: res.data.token,\r\n\t\t\t\t\t\ttime: time\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.getUserInfo(res.data.bindName);\r\n\t\t\t\t}).catch(error => {\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tthis.$util.Tips({\r\n\t\t\t\t\t\ttitle: error\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 获取个人用户信息\r\n\t\t\t */\r\n\t\t\tgetUserInfo(new_user) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tgetUserInfo().then(res => {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tthat.userInfo = res.data;\r\n\t\t\t\t\tthat.$store.commit('SETUID', res.data.uid);\r\n\t\t\t\t\tthat.$store.commit('UPDATE_USERINFO', res.data);\r\n\t\t\t\t\tif (new_user) {\r\n\t\t\t\t\t\tthis.isShow = true\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// #ifdef MP\r\n\t\t\t\t\t\tthat.$util.Tips({\r\n\t\t\t\t\t\t\ttitle: that.$t(`登录成功`),\r\n\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\ttab: 3,\r\n\t\t\t\t\t\t\turl: this.configData.wechat_auth_switch ? 2 : 1\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t// #ifndef MP\r\n\t\t\t\t\t\tthat.$util.Tips({\r\n\t\t\t\t\t\t\ttitle: that.$t(`登录成功`),\r\n\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\turl: this.backUrl || 'pages/user/index'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// #endif\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tsuccess(data) {\r\n\t\t\t\tthis.$refs.verify.hide()\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tverifyCode().then(res => {\r\n\t\t\t\t\tregisterVerify(that.phone, 'reset', res.data.key, this.captchaType, data.captchaVerification)\r\n\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\tthat.$util.Tips({\r\n\t\t\t\t\t\t\t\ttitle: res.msg\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthat.sendCode();\r\n\t\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\t\treturn that.$util.Tips({\r\n\t\t\t\t\t\t\t\ttitle: err\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 发送验证码\r\n\t\t\t *\r\n\t\t\t */\r\n\t\t\tasync code() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tif (!that.phone) return that.$util.Tips({\r\n\t\t\t\t\ttitle: that.$t(`请填写手机号码`)\r\n\t\t\t\t});\r\n\t\t\t\tif (!(/^1(3|4|5|7|8|9|6)\\d{9}$/i.test(that.phone))) return that.$util.Tips({\r\n\t\t\t\t\ttitle: that.$t(`请输入正确的手机号码`)\r\n\t\t\t\t});\r\n\t\t\t\tthis.$refs.verify.show();\r\n\t\t\t\treturn;\r\n\t\t\t},\r\n\t\t\tChangeIsDefault() {\r\n\t\t\t\tthis.$set(this, 'protocol', !this.protocol);\r\n\t\t\t},\r\n\t\t\tcloseEdit() {\r\n\t\t\t\tthis.isShow = false\r\n\t\t\t\tthis.$util.Tips({\r\n\t\t\t\t\ttitle: this.$t(`登录成功`),\r\n\t\t\t\t\ticon: 'success'\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttab: 3,\r\n\t\t\t\t\turl: 2\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\teditSuccess() {\r\n\t\t\t\tthis.isShow = false\r\n\t\t\t},\r\n\t\t\tback() {\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\tdelta: this.configData.wechat_auth_switch ? 2 : 1\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tprivacy(type) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"/pages/users/privacy/index?type=\" + type\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.wrapper {\r\n\t\tbackground-color: #fff;\r\n\t\tmin-height: 100vh;\r\n\t\tposition: relative;\r\n\r\n\t\t.bag {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t\twidth: 750rpx;\r\n\t\t\theight: 460rpx;\r\n\t\t\tbackground: var(--view-linear);\r\n\t\t}\r\n\r\n\t\t.page-msg {\r\n\t\t\tpadding-top: 160rpx;\r\n\t\t\tmargin-left: 72rpx;\r\n\r\n\t\t\t.title {\r\n\t\t\t\tfont-size: 48rpx;\r\n\t\t\t\tfont-weight: 500;\r\n\t\t\t\tcolor: #333333;\r\n\t\t\t\tline-height: 68rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.tip {\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tfont-weight: 400;\r\n\t\t\t\tcolor: #333333;\r\n\t\t\t\tline-height: 40rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.page-form {\r\n\t\t\twidth: 606rpx;\r\n\t\t\tmargin: 100rpx auto 0 auto;\r\n\r\n\t\t\t.item {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 88rpx;\r\n\t\t\t\tbackground: #F5F5F5;\r\n\t\t\t\tborder-radius: 45rpx;\r\n\t\t\t\tpadding: 24rpx 48rpx;\r\n\t\t\t\tmargin-bottom: 32rpx;\r\n\r\n\t\t\t\tinput {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.placeholder {\r\n\t\t\t\t\tcolor: #BBBBBB;\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tinput.codeIput {\r\n\t\t\t\t\twidth: 300rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.line {\r\n\t\t\t\t\twidth: 2rpx;\r\n\t\t\t\t\theight: 28rpx;\r\n\t\t\t\t\tbackground: #CCCCCC;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.code {\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: var(--view-theme);\r\n\t\t\t\t\tbackground-color: rgba(255, 255, 255, 0);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.code.on {\r\n\t\t\t\t\tcolor: #BBBBBB !important;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.btn {\r\n\t\t\t\twidth: 606rpx;\r\n\t\t\t\theight: 88rpx;\r\n\t\t\t\tbackground: var(--view-theme);\r\n\t\t\t\tborder-radius: 200rpx 200rpx 200rpx 200rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\tfont-family: PingFang SC-Regular, PingFang SC;\r\n\t\t\t\tfont-weight: 400;\r\n\t\t\t\tcolor: #FFFFFF;\r\n\t\t\t\tline-height: 44rpx;\r\n\t\t\t\tmargin-top: 48rpx;\r\n\t\t\t\tletter-spacing: 1px;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.title-bar {\r\n\t\tposition: relative;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tfont-size: 34rpx;\r\n\t\tfont-weight: 500;\r\n\t\tcolor: #333333;\r\n\t\tline-height: 48rpx;\r\n\t}\r\n\r\n\t.icon {\r\n\t\tposition: absolute;\r\n\t\tleft: 30rpx;\r\n\t\ttop: 0;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\twidth: 80rpx;\r\n\t\theight: 80rpx;\r\n\r\n\t\timage {\r\n\t\t\twidth: 35rpx;\r\n\t\t\theight: 35rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.protocol {\r\n\t\tposition: fixed;\r\n\t\tbottom: 52rpx;\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t\tmargin: 0 auto;\r\n\t\tcolor: #999999;\r\n\t\tfont-size: 24rpx;\r\n\t\tline-height: 22rpx;\r\n\t\ttext-align: center;\r\n\t\tbottom: calc(52rpx+ constant(safe-area-inset-bottom)); ///兼容 IOS<11.2/\r\n\t\tbottom: calc(52rpx + env(safe-area-inset-bottom)); ///兼容 IOS>11.2/\r\n\r\n\t\t.main-color {\r\n\t\t\tcolor: var(--view-theme);\r\n\t\t}\r\n\r\n\t\t.trembling {\r\n\t\t\tanimation: shake 0.6s;\r\n\t\t}\r\n\t}\r\n\r\n\t/deep/ uni-checkbox .uni-checkbox-input {\r\n\t\twidth: 28rpx;\r\n\t\theight: 28rpx;\r\n\t}\r\n\r\n\t/deep/ uni-checkbox .uni-checkbox-input.uni-checkbox-input-checked::before {\r\n\t\tfont-size: 24rpx;\r\n\t}\r\n\r\n\t/deep/ uni-checkbox .uni-checkbox-wrapper {\r\n\t\tmargin-bottom: 1px;\r\n\t}\r\n\r\n\t/*checkbox 选项框大小  */\r\n\t/deep/ checkbox .wx-checkbox-input {\r\n\t\twidth: 28rpx;\r\n\t\theight: 28rpx;\r\n\t}\r\n\r\n\t/*checkbox选中后样式  */\r\n\t/deep/ checkbox .wx-checkbox-input.wx-checkbox-input-checked {\r\n\t\tbackground: white;\r\n\t}\r\n\r\n\t/*checkbox选中后图标样式  */\r\n\t/deep/ checkbox .wx-checkbox-input.wx-checkbox-input-checked::before {\r\n\t\twidth: 28rpx;\r\n\t\theight: 28rpx;\r\n\t\tline-height: 28rpx;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 22rpx;\r\n\t\tbackground: transparent;\r\n\t\ttransform: translate(-50%, -50%) scale(1);\r\n\t\t-webkit-transform: translate(-50%, -50%) scale(1);\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=60acfcf2&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=60acfcf2&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1699920882628\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}