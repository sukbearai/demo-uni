{"version":3,"sources":["uni-app:///main.js","webpack:////Users/yangfan/Desktop/皮皮熊/麦8号/CRMEB-BZ v5.2.1(20231106)/template/uni-app/pages/goods/cashier/index.vue?f5b4","webpack:////Users/yangfan/Desktop/皮皮熊/麦8号/CRMEB-BZ v5.2.1(20231106)/template/uni-app/pages/goods/cashier/index.vue?5b0f","webpack:////Users/yangfan/Desktop/皮皮熊/麦8号/CRMEB-BZ v5.2.1(20231106)/template/uni-app/pages/goods/cashier/index.vue?0407","webpack:////Users/yangfan/Desktop/皮皮熊/麦8号/CRMEB-BZ v5.2.1(20231106)/template/uni-app/pages/goods/cashier/index.vue?2c97","uni-app:///pages/goods/cashier/index.vue","webpack:////Users/yangfan/Desktop/皮皮熊/麦8号/CRMEB-BZ v5.2.1(20231106)/template/uni-app/pages/goods/cashier/index.vue?8fb8","webpack:////Users/yangfan/Desktop/皮皮熊/麦8号/CRMEB-BZ v5.2.1(20231106)/template/uni-app/pages/goods/cashier/index.vue?811c"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","countDown","numberScroll","data","checked","datatime","cartArr","value","title","payStatus","orderId","fromType","active","payPrice","payPriceShow","payPostage","offlinePostage","invalidTime","initIn","jumpData","msg","formContent","watch","handler","newV","item","newPayList","immediate","deep","onLoad","onShow","tab","url","icon","uni","methods","getBasicConfig","getCashierOrder","payType","formpost","tempform","opt","document","waitPay","goPay","success","fail","complete","paytype","type","jsConfig","goPages","res","friendPay","$store","appId","extraData","cusid","appid","version","trxamt","reqsn","notify_url","body","remark","validtime","randomstr","sign","signtype","that","mp_pay_name","timeStamp","nonceStr","package","signType","paySign","seckillId","Tips","setTimeout","location","action"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACsC;;;AAG1F;AAC4N;AAC5N,gBAAgB,iNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC1CA;AAAA;AAAA;AAAA;AAA+3B,CAAgB,myBAAG,EAAC,C;;;;;;;;;;;;;;;;;;AC4Cn5B;AAIA;AAEA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eACA;EACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACA;MACAC;QACA;QACA;QACAC;QACAC;QACAC;MACA,GACA;QACA;QACA;QACAF;QACAC;QACAC;MACA,GACA;QACA;QACA;QACAF;QACAC;QACAC;MACA,GACA;QACA;QACA;QACAF;QACAC;QACAC;MACA;QACA;QACA;QACAF;QACAC;QACAC;MACA,EACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAT;QACAU;MACA;MACAC;IACA;EACA;EACAC;IACAhB;MACAiB;QAAA;QACA;QACAC;UACA;YACAC;YACAC;UACA;QACA;QACA;UACA;UACA;QACA;MAEA;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACA;IACA;EACA;EACAC;IACA;IACA;MACA;MACA;MACA;MACA;QACA;QACA;UACAtB;QACA;UACAuB;UACAC;QACA;MACA;QACA;UACA;YACAxB;YACAyB;UACA;YACAF;YACAC;UACA;QACA;UACA;UACA;YACAxB;UACA;YACAuB;YACAC;UACA;QACA;UACA;UACAE;YACAF;UACA;QACA;MACA;IACA;EACA;EACAG;IACAC;MAAA;MACA;QACA;QACA;QACA;QACA;QAEA;;QAEA;QACA;QACA;UACA;QACA;UACA;QACA;QACA;QACA;QACA;MACA;QACAF;QACA;UACA1B;QACA;MACA;IACA;IACA6B;MAAA;MACAH;QACA1B;MACA;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA0B;MACA;QACAA;QACA;UACA1B;QACA;MACA;IACA;IACA8B;MACA;MACA;MACA;MACA;QACA;UACA;QACA;UACA;QACA;MAEA;IACA;IACAC;MACA;MACAC;MACAA;MACAA;MACAA;MACA;QACA;QACAC;QACAA;QACAD;MACA;MACAE;MACA;QACAF;MACA;IACA;IACAG;MACAT;QACAF,2FACA;MACA;IACA;IACAY;MAAA;MACA;MACA;QACApC;MACA;MACA;QACAA;MACA;MACA0B;QACA1B;MACA;MACA;QACA0B;QACA;UACAF,oFACA;UACAa;UACAC;UACAC;QACA;MACA;MACA;QACAb;QACAc;QACAC;MAWA;QACA;UACAvC;UACAwC;UACAC,uFACAC,IACAhC,MACA;UACAiC,gFACA,aACA,OACAC;QACA;UACA;UACA;YACApB;YACA;cACA1B;YACA;cACAuB;cACAC;YACA;UACA;YACAE;YAEA;YACAvC;cACA4D;cACAC;gBACAC;gBACAC;gBACAC;gBACAC;gBACAC;gBACAC;gBACAC;gBACAC;gBACAC;gBACAC;gBACAlB;gBACAmB;gBACAC;cACA;YACA;YACA;cACA1D;cACAU;YACA;YAaA;UACA;YACAc;YACA;cACA1B;YACA;cACAuB;cACAC;YACA;YACA;UACA;YACAE;YACA;cACA;gBACA1B;gBACAyB;cACA;gBACAF;gBACAC;cACA;YACA;cACA;gBACAxB;gBACAyB;cACA;gBACAF;gBACAC;cACA;YACA;YAGA;UACA;YACAqC;;YAEA;YACA;YACA;cACAC;YACA;cACAA;YACA;YACApC;cACAqC;cACAC;cACAC;cACAC;cACAC;cACA9B;gBACAX;gBACA,2DACAmC,KACAO,8BACA;kBACApE;kBACAyB;gBACA;kBACAF;kBACAC;gBACA;gBACA;kBACAxB;kBACAyB;gBACA;kBACAF;kBACAC;gBACA;cACA;cACAc;gBACAZ;gBACA;kBACA1B;gBACA;kBACAuB;kBACAC;gBACA;cACA;cACAe;gBACAb;gBACA;gBACA,yDACA,gDACA2C;kBACArE;gBACA;kBACAuB;kBACAC;gBACA;cACA;YACA;YA+DA;UACA;YACAE;YACA;YACA;cACA1B;YACA;cACAuB;cACAC;YACA;YACA;UAEA;YACAE;YACAmC;cACA7D;YACA;cACAuB;cACAC;YACA;YACA8C;cACAC;YACA;YACA;UAEA;YAeA7C;cACAF;YACA;YAyCA;QAAA;MAGA;QACAE;QACA;UACA1B;QACA;UACA6D;YACAW;UACA;QACA;MACA;IACA;EACA;AAEA;AAAA,2B;;;;;;;;;;;;;AC7lBA;AAAA;AAAA;AAAA;AAAsqD,CAAgB,07CAAG,EAAC,C;;;;;;;;;;;ACA1rD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/goods/cashier/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/goods/cashier/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=61d0ebb8&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=61d0ebb8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"61d0ebb8\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/goods/cashier/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=61d0ebb8&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.payPriceShow ? _vm.$t(\"￥\") : null\n  var m1 = _vm.payPriceShow ? _vm.$t(\"支付剩余时间\") : null\n  var m2 = _vm.payPriceShow ? _vm.$t(\"支付方式\") : null\n  var l0 = _vm.payPriceShow\n    ? _vm.__map(_vm.cartArr, function (item, index) {\n        var $orig = _vm.__get_orig(item)\n        var m3 = _vm.$t(item.name)\n        var m4 = item.value == \"yue\" ? _vm.$t(item.title) : null\n        var m5 = item.value == \"yue\" ? _vm.$t(\"￥\") : null\n        var m6 = !(item.value == \"yue\") ? _vm.$t(item.title) : null\n        return {\n          $orig: $orig,\n          m3: m3,\n          m4: m4,\n          m5: m5,\n          m6: m6,\n        }\n      })\n    : null\n  var m7 = _vm.payPriceShow ? _vm.$t(\"确认支付\") : null\n  var m8 = _vm.payPriceShow ? _vm.$t(\"暂不支付\") : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n        m2: m2,\n        l0: l0,\n        m7: m7,\n        m8: m8,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"page\" v-if=\"payPriceShow\">\r\n\t\t<view class=\"pay-price\">\r\n\t\t\t<view class=\"price\">\r\n\t\t\t\t<text class=\"unit\">{{$t(`￥`)}}</text>\r\n\t\t\t\t<numberScroll :num='payPriceShow' color=\"#E93323\" width='30' height='50' fontSize='50'></numberScroll>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"count-down\">\r\n\t\t\t\t{{$t(`支付剩余时间`)}}：\r\n\t\t\t\t<countDown :is-day=\"false\" :tip-text=\"' '\" :day-text=\"' '\" :hour-text=\"' : '\" :minute-text=\"' : '\"\r\n\t\t\t\t\t:second-text=\"' '\" :datatime=\"invalidTime\"></countDown>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"payment\">\r\n\t\t\t<view class=\"title\">\r\n\t\t\t\t{{$t(`支付方式`)}}\r\n\t\t\t</view>\r\n\t\t\t<view class=\"item acea-row row-between-wrapper\" v-for=\"(item,index) in cartArr\" :key=\"index\"\r\n\t\t\t\tv-show='item.payStatus' @click=\"payType(item.number || 0, item.value, index)\">\r\n\t\t\t\t<view class=\"left acea-row row-between-wrapper\">\r\n\t\t\t\t\t<view class=\"iconfont\" :class=\"item.icon\"></view>\r\n\t\t\t\t\t<view class=\"text\">\r\n\t\t\t\t\t\t<view class=\"name\">{{$t(item.name)}}</view>\r\n\t\t\t\t\t\t<view class=\"info\" v-if=\"item.value == 'yue'\">\r\n\t\t\t\t\t\t\t{{$t(item.title)}} <span class=\"money\">{{$t(`￥`)}}{{ item.number }}</span>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"info\" v-else>{{$t(item.title)}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"iconfont\" :class=\"active==index?'icon-xuanzhong11 font-num':'icon-weixuan'\"></view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"btn\">\r\n\t\t\t<view class=\"button acea-row row-center-wrapper\" @click='goPay(number, paytype)'>{{$t(`确认支付`)}}</view>\r\n\t\t\t<view class=\"wait-pay\" @click=\"waitPay\">{{$t(`暂不支付`)}}</view>\r\n\t\t</view>\r\n\t\t<view v-show=\"false\" v-html=\"formContent\"></view>\r\n\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport countDown from '@/components/countDown';\r\n\timport numberScroll from '@/components/numberScroll.vue'\r\n\timport {\r\n\t\tgetCashierOrder,\r\n\t\torderPay\r\n\t} from '@/api/order.js';\r\n\timport {\r\n\t\tbasicConfig\r\n\t} from '@/api/public.js'\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tcountDown,\r\n\t\t\tnumberScroll\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tchecked: false,\r\n\t\t\t\tdatatime: 1676344056,\r\n\t\t\t\t//支付方式\r\n\t\t\t\tcartArr: [{\r\n\t\t\t\t\t\t\"name\": this.$t(`微信支付`),\r\n\t\t\t\t\t\t\"icon\": \"icon-weixin2\",\r\n\t\t\t\t\t\tvalue: 'weixin',\r\n\t\t\t\t\t\ttitle: this.$t(`使用微信快捷支付`),\r\n\t\t\t\t\t\tpayStatus: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"name\": this.$t(`支付宝支付`),\r\n\t\t\t\t\t\t\"icon\": \"icon-zhifubao\",\r\n\t\t\t\t\t\tvalue: 'alipay',\r\n\t\t\t\t\t\ttitle: this.$t(`使用支付宝支付`),\r\n\t\t\t\t\t\tpayStatus: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"name\": this.$t(`余额支付`),\r\n\t\t\t\t\t\t\"icon\": \"icon-yuezhifu\",\r\n\t\t\t\t\t\tvalue: 'yue',\r\n\t\t\t\t\t\ttitle: this.$t(`可用余额`),\r\n\t\t\t\t\t\tpayStatus: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"name\": this.$t(`线下支付`),\r\n\t\t\t\t\t\t\"icon\": \"icon-yuezhifu1\",\r\n\t\t\t\t\t\tvalue: 'offline',\r\n\t\t\t\t\t\ttitle: this.$t(`使用线下付款`),\r\n\t\t\t\t\t\tpayStatus: 2,\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\"name\": this.$t(`好友代付`),\r\n\t\t\t\t\t\t\"icon\": \"icon-haoyoudaizhifu\",\r\n\t\t\t\t\t\tvalue: 'friend',\r\n\t\t\t\t\t\ttitle: this.$t(`找微信好友支付`),\r\n\t\t\t\t\t\tpayStatus: 1,\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\torderId: 0,\r\n\t\t\t\tfromType: '',\r\n\t\t\t\tactive: 0,\r\n\t\t\t\tpayPrice: 0,\r\n\t\t\t\tpayPriceShow: 0,\r\n\t\t\t\tpayPostage: 0,\r\n\t\t\t\tofflinePostage: false,\r\n\t\t\t\tinvalidTime: 0,\r\n\t\t\t\tinitIn: false,\r\n\t\t\t\tjumpData: {\r\n\t\t\t\t\torderId: '',\r\n\t\t\t\t\tmsg: ''\r\n\t\t\t\t},\r\n\t\t\t\tformContent: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tcartArr: {\r\n\t\t\t\thandler(newV, oldValue) {\r\n\t\t\t\t\tlet newPayList = [];\r\n\t\t\t\t\tnewV.forEach((item, index) => {\r\n\t\t\t\t\t\tif (item.payStatus) {\r\n\t\t\t\t\t\t\titem.index = index;\r\n\t\t\t\t\t\t\tnewPayList.push(item)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.$nextTick(e => {\r\n\t\t\t\t\t\tthis.active = newPayList[0].index;\r\n\t\t\t\t\t\tthis.paytype = newPayList[0].value;\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t},\r\n\t\t\t\timmediate: true,\r\n\t\t\t\tdeep: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tif (options.order_id) this.orderId = options.order_id\r\n\t\t\tif (options.from_type) this.fromType = options.from_type\r\n\t\t\tthis.getBasicConfig()\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tlet options = wx.getEnterOptionsSync();\r\n\t\t\tif (options.scene == '1038' && options.referrerInfo.appId == 'wxef277996acc166c3' && this.initIn) {\r\n\t\t\t\t// 代表从收银台小程序返回\r\n\t\t\t\tlet extraData = options.referrerInfo.extraData;\r\n\t\t\t\tthis.initIn = false\r\n\t\t\t\tif (!extraData) {\r\n\t\t\t\t\t// \"当前通过物理按键返回，未接收到返参，建议自行查询交易结果\";\r\n\t\t\t\t\tthis.$util.Tips({\r\n\t\t\t\t\t\ttitle: this.$t(`取消支付`)\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\ttab: 5,\r\n\t\t\t\t\t\turl: `/pages/goods/order_pay_status/index?order_id=${this.orderId}&msg=${this.$t(`取消支付`)}&type=3&totalPrice=${this.payPriceShow}&status=2`\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (extraData.code == 'success') {\r\n\t\t\t\t\t\tthis.$util.Tips({\r\n\t\t\t\t\t\t\ttitle: this.$t(`支付成功`),\r\n\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\ttab: 5,\r\n\t\t\t\t\t\t\turl: `/pages/goods/order_pay_status/index?order_id=${this.orderId}&msg=${this.jumpData.msg}&type=3&totalPrice=${this.payPriceShow}`\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (extraData.code == 'cancel') {\r\n\t\t\t\t\t\t// \"支付已取消\";\r\n\t\t\t\t\t\tthis.$util.Tips({\r\n\t\t\t\t\t\t\ttitle: this.$t(`取消支付`)\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\ttab: 5,\r\n\t\t\t\t\t\t\turl: `/pages/goods/order_pay_status/index?order_id=${this.orderId}&msg=${this.$t(`取消支付`)}&type=3&totalPrice=${this.payPriceShow}&status=2`\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// \"支付失败：\" + extraData.errmsg;\r\n\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\turl: `/pages/goods/order_pay_status/index?order_id=${this.orderId}&msg=${this.$t(`支付失败`)}&totalPrice=${this.payPriceShow}`\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetBasicConfig() {\r\n\t\t\t\tbasicConfig().then(res => {\r\n\t\t\t\t\t//微信支付是否开启\r\n\t\t\t\t\tthis.cartArr[0].payStatus = res.data.pay_weixin_open || 0\r\n\t\t\t\t\t//支付宝是否开启\r\n\t\t\t\t\tthis.cartArr[1].payStatus = res.data.ali_pay_status || 0;\r\n\t\t\t\t\t//#ifdef MP\r\n\t\t\t\t\tthis.cartArr[1].payStatus = 0;\r\n\t\t\t\t\t//#endif\r\n\t\t\t\t\t//余额支付是否开启\r\n\t\t\t\t\tthis.cartArr[2].payStatus = res.data.yue_pay_status\r\n\t\t\t\t\tif (res.data.offline_pay_status) {\r\n\t\t\t\t\t\tthis.cartArr[3].payStatus = 1\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.cartArr[3].payStatus = 0\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//好友代付是否开启\r\n\t\t\t\t\tthis.cartArr[4].payStatus = res.data.friend_pay_status || 0;\r\n\t\t\t\t\tthis.getCashierOrder()\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\treturn this.$util.Tips({\r\n\t\t\t\t\t\ttitle: err\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetCashierOrder() {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: this.$t(`创建订单中`)\r\n\t\t\t\t});\r\n\t\t\t\tgetCashierOrder(this.orderId, this.fromType).then(res => {\r\n\t\t\t\t\tthis.payPrice = this.payPriceShow = res.data.pay_price\r\n\t\t\t\t\tthis.payPostage = res.data.pay_postage\r\n\t\t\t\t\tthis.offlinePostage = res.data.offline_postage\r\n\t\t\t\t\tthis.invalidTime = res.data.invalid_time\r\n\t\t\t\t\tthis.cartArr[2].number = res.data.now_money;\r\n\t\t\t\t\tthis.number = Number(res.data.now_money) || 0;\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\treturn this.$util.Tips({\r\n\t\t\t\t\t\ttitle: err\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tpayType(number, paytype, index) {\r\n\t\t\t\tthis.active = index;\r\n\t\t\t\tthis.paytype = paytype;\r\n\t\t\t\tthis.number = number;\r\n\t\t\t\tif (this.offlinePostage) {\r\n\t\t\t\t\tif (paytype == 'offline') {\r\n\t\t\t\t\t\tthis.payPriceShow = this.$util.$h.Sub(this.payPrice, this.payPostage);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.payPriceShow = this.payPrice;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tformpost(url, postData) {\r\n\t\t\t\tlet tempform = document.createElement(\"form\");\r\n\t\t\t\ttempform.action = url;\r\n\t\t\t\ttempform.method = \"post\";\r\n\t\t\t\ttempform.target = \"_self\";\r\n\t\t\t\ttempform.style.display = \"none\";\r\n\t\t\t\tfor (let x in postData) {\r\n\t\t\t\t\tlet opt = document.createElement(\"input\");\r\n\t\t\t\t\topt.name = x;\r\n\t\t\t\t\topt.value = postData[x];\r\n\t\t\t\t\ttempform.appendChild(opt);\r\n\t\t\t\t}\r\n\t\t\t\tdocument.body.appendChild(tempform);\r\n\t\t\t\tthis.$nextTick(e => {\r\n\t\t\t\t\ttempform.submit();\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\twaitPay() {\r\n\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\turl: '/pages/goods/order_pay_status/index?order_id=' + this.orderId + '&msg=取消支付&type=3' +\r\n\t\t\t\t\t\t'&status=2&totalPrice=' + this.payPriceShow\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoPay(number, paytype) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tif (!that.orderId) return that.$util.Tips({\r\n\t\t\t\t\ttitle: that.$t(`请选择要支付的订单`)\r\n\t\t\t\t});\r\n\t\t\t\tif (paytype == 'yue' && parseFloat(number) < parseFloat(that.payPriceShow)) return that.$util.Tips({\r\n\t\t\t\t\ttitle: that.$t(`余额不足`)\r\n\t\t\t\t});\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: that.$t(`支付中`)\r\n\t\t\t\t});\r\n\t\t\t\tif (paytype == 'friend' && that.orderId) {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\treturn uni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/users/payment_on_behalf/index?order_id=' + that.orderId + '&spread=' +\r\n\t\t\t\t\t\t\tthis.$store.state.app.uid,\r\n\t\t\t\t\t\tsuccess: res => {},\r\n\t\t\t\t\t\tfail: () => {},\r\n\t\t\t\t\t\tcomplete: () => {}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\torderPay({\r\n\t\t\t\t\tuni: that.orderId,\r\n\t\t\t\t\tpaytype: paytype,\r\n\t\t\t\t\ttype: that.friendPay ? 1 : 0,\r\n\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\tquitUrl: location.port ? location.protocol + '//' + location.hostname + ':' + location\r\n\t\t\t\t\t\t.port +\r\n\t\t\t\t\t\t'/pages/goods/order_details/index?order_id=' + this.orderId : location.protocol +\r\n\t\t\t\t\t\t'//' + location.hostname +\r\n\t\t\t\t\t\t'/pages/goods/order_details/index?order_id=' + this.orderId\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t\tquitUrl: '/pages/goods/order_details/index?order_id=' + this.orderId\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tlet status = res.data.status,\r\n\t\t\t\t\t\torderId = res.data.result.order_id,\r\n\t\t\t\t\t\tjsConfig = res.data.result.jsConfig,\r\n\t\t\t\t\t\tgoPages = '/pages/goods/order_pay_status/index?order_id=' + this.orderId + '&msg=' +\r\n\t\t\t\t\t\tres\r\n\t\t\t\t\t\t.msg +\r\n\t\t\t\t\t\t'&type=3' + '&totalPrice=' + this.payPriceShow,\r\n\t\t\t\t\t\tfriendPay = '/pages/users/payment_on_behalf/index?order_id=' + this.orderId +\r\n\t\t\t\t\t\t'&spread=' +\r\n\t\t\t\t\t\tthis\r\n\t\t\t\t\t\t.$store.state.app.uid\r\n\t\t\t\t\tswitch (status) {\r\n\t\t\t\t\t\tcase 'ORDER_EXIST':\r\n\t\t\t\t\t\tcase 'EXTEND_ORDER':\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\treturn that.$util.Tips({\r\n\t\t\t\t\t\t\t\ttitle: res.msg\r\n\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\ttab: 5,\r\n\t\t\t\t\t\t\t\turl: goPages\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\tcase 'ALLINPAY_PAY':\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t// #ifdef MP\r\n\t\t\t\t\t\t\tthis.initIn = true\r\n\t\t\t\t\t\t\twx.openEmbeddedMiniProgram({\r\n\t\t\t\t\t\t\t\tappId: 'wxef277996acc166c3',\r\n\t\t\t\t\t\t\t\textraData: {\r\n\t\t\t\t\t\t\t\t\tcusid: jsConfig.cusid,\r\n\t\t\t\t\t\t\t\t\tappid: jsConfig.appid,\r\n\t\t\t\t\t\t\t\t\tversion: jsConfig.version,\r\n\t\t\t\t\t\t\t\t\ttrxamt: jsConfig.trxamt,\r\n\t\t\t\t\t\t\t\t\treqsn: jsConfig.reqsn,\r\n\t\t\t\t\t\t\t\t\tnotify_url: jsConfig.notify_url,\r\n\t\t\t\t\t\t\t\t\tbody: jsConfig.body,\r\n\t\t\t\t\t\t\t\t\tremark: jsConfig.remark,\r\n\t\t\t\t\t\t\t\t\tvalidtime: jsConfig.validtime,\r\n\t\t\t\t\t\t\t\t\trandomstr: jsConfig.randomstr,\r\n\t\t\t\t\t\t\t\t\tpaytype: jsConfig.paytype,\r\n\t\t\t\t\t\t\t\t\tsign: jsConfig.sign,\r\n\t\t\t\t\t\t\t\t\tsigntype: jsConfig.signtype\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tthis.jumpData = {\r\n\t\t\t\t\t\t\t\torderId: res.data.result.order_id,\r\n\t\t\t\t\t\t\t\tmsg: res.msg,\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t\t\t\tplus.runtime.openURL(jsConfig.payinfo);\r\n\t\t\t\t\t\t\tsetTimeout(e => {\r\n\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\turl: goPages\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\t\t\tthis.formpost(res.data.result.pay_url, jsConfig)\r\n\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'PAY_ERROR':\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\treturn that.$util.Tips({\r\n\t\t\t\t\t\t\t\ttitle: res.msg\r\n\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\ttab: 5,\r\n\t\t\t\t\t\t\t\turl: goPages\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'SUCCESS':\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tif (paytype !== 'friend') {\r\n\t\t\t\t\t\t\t\treturn that.$util.Tips({\r\n\t\t\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t\ttab: 4,\r\n\t\t\t\t\t\t\t\t\turl: goPages\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn that.$util.Tips({\r\n\t\t\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t\ttab: 4,\r\n\t\t\t\t\t\t\t\t\turl: friendPay\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'WECHAT_PAY':\r\n\t\t\t\t\t\t\tthat.toPay = true;\r\n\t\t\t\t\t\t\t// #ifdef MP\r\n\t\t\t\t\t\t\t/* that.toPay = true; */\r\n\t\t\t\t\t\t\tlet mp_pay_name = ''\r\n\t\t\t\t\t\t\tif (uni.requestOrderPayment) {\r\n\t\t\t\t\t\t\t\tmp_pay_name = 'requestOrderPayment'\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tmp_pay_name = 'requestPayment'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tuni[mp_pay_name]({\r\n\t\t\t\t\t\t\t\ttimeStamp: jsConfig.timestamp,\r\n\t\t\t\t\t\t\t\tnonceStr: jsConfig.nonceStr,\r\n\t\t\t\t\t\t\t\tpackage: jsConfig.package,\r\n\t\t\t\t\t\t\t\tsignType: jsConfig.signType,\r\n\t\t\t\t\t\t\t\tpaySign: jsConfig.paySign,\r\n\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\tif (that.BargainId || that.combinationId || that.pinkId ||\r\n\t\t\t\t\t\t\t\t\t\tthat\r\n\t\t\t\t\t\t\t\t\t\t.seckillId || that.discountId)\r\n\t\t\t\t\t\t\t\t\t\treturn that.$util.Tips({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: that.$t(`支付成功`),\r\n\t\t\t\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t\t\t\ttab: 4,\r\n\t\t\t\t\t\t\t\t\t\t\turl: goPages\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\treturn that.$util.Tips({\r\n\t\t\t\t\t\t\t\t\t\ttitle: that.$t(`支付成功`),\r\n\t\t\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t\t\ttab: 5,\r\n\t\t\t\t\t\t\t\t\t\turl: goPages\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail: function(e) {\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\treturn that.$util.Tips({\r\n\t\t\t\t\t\t\t\t\t\ttitle: that.$t(`取消支付`)\r\n\t\t\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t\t\ttab: 5,\r\n\t\t\t\t\t\t\t\t\t\turl: goPages + '&status=2'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tcomplete: function(e) {\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t//关闭当前页面跳转至订单状态\r\n\t\t\t\t\t\t\t\t\tif (res.errMsg == 'requestPayment:cancel' || e.errMsg ==\r\n\t\t\t\t\t\t\t\t\t\t'requestOrderPayment:cancel') return that.$util\r\n\t\t\t\t\t\t\t\t\t\t.Tips({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: that.$t(`取消支付`)\r\n\t\t\t\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t\t\t\ttab: 5,\r\n\t\t\t\t\t\t\t\t\t\t\turl: goPages + '&status=2'\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\t\t\tthis.$wechat.pay(res.data.result.jsConfig).then(res => {\r\n\t\t\t\t\t\t\t\treturn that.$util.Tips({\r\n\t\t\t\t\t\t\t\t\ttitle: that.$t(`支付成功`),\r\n\t\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t\ttab: 5,\r\n\t\t\t\t\t\t\t\t\turl: goPages\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}).catch(res => {\r\n\t\t\t\t\t\t\t\tif (!this.$wechat.isWeixin()) {\r\n\t\t\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\t\t\turl: goPages + '&msg=' + that.$t(`支付失败`) +\r\n\t\t\t\t\t\t\t\t\t\t\t'&status=2'\r\n\t\t\t\t\t\t\t\t\t\t// '&msg=支付失败&status=2'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (res.errMsg == 'chooseWXPay:cancel') return that.$util.Tips({\r\n\t\t\t\t\t\t\t\t\ttitle: that.$t(`取消支付`)\r\n\t\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t\ttab: 5,\r\n\t\t\t\t\t\t\t\t\turl: goPages + '&status=2'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t\t\t\tprovider: 'wxpay',\r\n\t\t\t\t\t\t\t\torderInfo: jsConfig,\r\n\t\t\t\t\t\t\t\tsuccess: (e) => {\r\n\t\t\t\t\t\t\t\t\tlet url = goPages;\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: that.$t(`支付成功`)\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\tsetTimeout(res => {\r\n\t\t\t\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\t\t\t\turl: url\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}, 2000)\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail: (e) => {\r\n\t\t\t\t\t\t\t\t\tlet url = '/pages/goods/order_pay_status/index?order_id=' +\r\n\t\t\t\t\t\t\t\t\t\torderId +\r\n\t\t\t\t\t\t\t\t\t\t'&msg=' + that.$t(`支付失败`);\r\n\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\tcontent: that.$t(`支付失败`),\r\n\t\t\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\turl: url\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t} else if (res.cancel) {}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'PAY_DEFICIENCY':\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t//余额不足\r\n\t\t\t\t\t\t\treturn that.$util.Tips({\r\n\t\t\t\t\t\t\t\ttitle: res.msg\r\n\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\ttab: 5,\r\n\t\t\t\t\t\t\t\turl: goPages + '&status=1'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase \"WECHAT_H5_PAY\":\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tthat.$util.Tips({\r\n\t\t\t\t\t\t\t\ttitle: that.$t(`等待支付中`)\r\n\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\ttab: 4,\r\n\t\t\t\t\t\t\t\turl: goPages + '&status=0'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tlocation.href = res.data.result.jsConfig.h5_url;\r\n\t\t\t\t\t\t\t}, 1500);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'ALIPAY_PAY':\r\n\t\t\t\t\t\t\t//#ifdef H5\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tthat.$util.Tips({\r\n\t\t\t\t\t\t\t\ttitle: that.$t(`等待支付中`)\r\n\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\ttab: 4,\r\n\t\t\t\t\t\t\t\turl: goPages + '&status=0'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthat.formContent = res.data.result.jsConfig;\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tdocument.getElementById('alipaysubmit').submit();\r\n\t\t\t\t\t\t\t}, 1500);\r\n\t\t\t\t\t\t\t//#endif\r\n\t\t\t\t\t\t\t// #ifdef MP\r\n\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\turl: `/pages/users/alipay_invoke/index?id=${orderId}&link=${jsConfig.qrCode}`\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t\t\t\tprovider: 'alipay',\r\n\t\t\t\t\t\t\t\torderInfo: jsConfig,\r\n\t\t\t\t\t\t\t\tsuccess: (e) => {\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: that.$t(`支付成功`)\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\tlet url = '/pages/goods/order_pay_status/index?order_id=' +\r\n\t\t\t\t\t\t\t\t\t\torderId +\r\n\t\t\t\t\t\t\t\t\t\t'&msg=' + that.$t(`支付成功`);\r\n\t\t\t\t\t\t\t\t\tsetTimeout(res => {\r\n\t\t\t\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\t\t\t\turl: url\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}, 2000)\r\n\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail: (e) => {\r\n\t\t\t\t\t\t\t\t\tlet url = '/pages/goods/order_pay_status/index?order_id=' +\r\n\t\t\t\t\t\t\t\t\t\torderId +\r\n\t\t\t\t\t\t\t\t\t\t'&msg=' + that.$t(`支付失败`);\r\n\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\tcontent: that.$t(`支付失败`),\r\n\t\t\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\turl: url\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t} else if (res.cancel) {}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\treturn that.$util.Tips({\r\n\t\t\t\t\t\ttitle: err\r\n\t\t\t\t\t}, () => {\r\n\t\t\t\t\t\tthat.$emit('onChangeFun', {\r\n\t\t\t\t\t\t\taction: 'pay_fail'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.page {\r\n\t\t.pay-price {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\t\t\tflex-direction: column;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding: 50rpx 0 40rpx 0;\r\n\r\n\t\t\t.price {\r\n\t\t\t\tcolor: #E93323;\r\n\t\t\t\tmargin-bottom: 20rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: flex-end;\r\n\r\n\t\t\t\t.unit {\r\n\t\t\t\t\tfont-size: 34rpx;\r\n\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\tline-height: 41rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.num {\r\n\t\t\t\t\tfont-size: 50rpx;\r\n\t\t\t\t\tfont-weight: 600;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.count-down {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tbackground-color: #fff;\r\n\t\t\t\tpadding: 8rpx 28rpx;\r\n\t\t\t\tborder-radius: 40rpx;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: #E93323;\r\n\r\n\t\t\t\t.time {\r\n\t\t\t\t\tmargin-top: 0 !important;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/deep/.red {\r\n\t\t\t\t\tmargin: 0 !important;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.payment {\r\n\t\t\twidth: 690rpx;\r\n\t\t\tborder-radius: 14rpx 14rpx;\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tz-index: 999;\r\n\t\t\tmargin: 0 30rpx;\r\n\r\n\t\t\t.title {\r\n\t\t\t\tcolor: #666666;\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\tpadding: 30rpx 0 0 30rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.payMoney {\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tcolor: #333333;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tmargin-top: 50rpx;\r\n\r\n\t\t\t\t.font-color {\r\n\t\t\t\t\tmargin-left: 10rpx;\r\n\r\n\t\t\t\t\t.money {\r\n\t\t\t\t\t\tfont-size: 40rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t}\r\n\r\n\t\t.payment.on {\r\n\t\t\ttransform: translate3d(0, 0, 0);\r\n\t\t}\r\n\r\n\t\t.icon-xuanzhong11 {\r\n\t\t\tcolor: #E93323 !important;\r\n\t\t}\r\n\r\n\t\t.payment .item {\r\n\t\t\tborder-bottom: 1rpx solid #eee;\r\n\t\t\theight: 130rpx;\r\n\t\t\tmargin-left: 30rpx;\r\n\t\t\tpadding-right: 30rpx;\r\n\t\t}\r\n\r\n\t\t.payment .item:last-child {\r\n\t\t\tborder-bottom: none;\r\n\t\t}\r\n\r\n\t\t.payment .item .left {\r\n\t\t\tflex: 1;\r\n\t\t}\r\n\r\n\t\t.payment .item .left .text {\r\n\t\t\tflex: 1;\r\n\t\t}\r\n\r\n\t\t.payment .item .left .text .name {\r\n\t\t\tfont-size: 30rpx;\r\n\t\t\tcolor: #333;\r\n\t\t}\r\n\r\n\t\t.payment .item .left .text .info {\r\n\t\t\tfont-size: 22rpx;\r\n\t\t\tcolor: #999;\r\n\t\t}\r\n\r\n\t\t.payment .item .left .text .info .money {\r\n\t\t\tcolor: #ff9900;\r\n\t\t}\r\n\r\n\t\t.payment .item .left .iconfont {\r\n\t\t\tfont-size: 50rpx;\r\n\t\t\tcolor: #09bb07;\r\n\t\t\tmargin-right: 28rpx;\r\n\t\t}\r\n\r\n\t\t.payment .item .left .iconfont.icon-zhifubao {\r\n\t\t\tcolor: #00aaea;\r\n\t\t}\r\n\r\n\t\t.payment .item .left .iconfont.icon-yuezhifu {\r\n\t\t\tcolor: #ff9900;\r\n\t\t}\r\n\r\n\t\t.payment .item .left .iconfont.icon-yuezhifu1 {\r\n\t\t\tcolor: #eb6623;\r\n\t\t}\r\n\r\n\t\t.payment .item .left .iconfont.icon-tonglianzhifu1 {\r\n\t\t\tcolor: #305fd8;\r\n\t\t}\r\n\r\n\t\t.payment .item .iconfont {\r\n\t\t\tfont-size: 40rpx;\r\n\t\t\tcolor: #ccc;\r\n\t\t}\r\n\r\n\t\t.icon-haoyoudaizhifu {\r\n\t\t\tcolor: #F34C3E !important;\r\n\t\t}\r\n\r\n\t\t.btn {\r\n\t\t\tposition: fixed;\r\n\t\t\tleft: 30rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\talign-items: center;\r\n\t\t\tbottom: 30rpx;\r\n\t\t\tbottom: calc(30rpx + constant(safe-area-inset-bottom)); ///兼容 IOS<11.2/\r\n\t\t\tbottom: calc(30rpx + env(safe-area-inset-bottom)); ///兼容 IOS>11.2/\r\n\t\t}\r\n\r\n\t\t.wait-pay {\r\n\t\t\tcolor: #aaa;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tpadding-top: 20rpx;\r\n\t\t}\r\n\r\n\t\t.button {\r\n\t\t\twidth: 690rpx;\r\n\t\t\theight: 90rpx;\r\n\t\t\tborder-radius: 45rpx;\r\n\t\t\tcolor: #FFFFFF;\r\n\t\t\tbackground-color: #E93323;\r\n\r\n\t\t}\r\n\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=61d0ebb8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=61d0ebb8&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1699920883145\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}