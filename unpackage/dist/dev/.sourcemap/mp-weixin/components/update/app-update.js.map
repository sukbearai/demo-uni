{"version":3,"sources":["webpack:////Users/yangfan/Desktop/皮皮熊/麦8号/CRMEB-BZ v5.2.1(20231106)/template/uni-app/components/update/app-update.vue?242b","webpack:////Users/yangfan/Desktop/皮皮熊/麦8号/CRMEB-BZ v5.2.1(20231106)/template/uni-app/components/update/app-update.vue?1a01","webpack:////Users/yangfan/Desktop/皮皮熊/麦8号/CRMEB-BZ v5.2.1(20231106)/template/uni-app/components/update/app-update.vue?42a7","webpack:////Users/yangfan/Desktop/皮皮熊/麦8号/CRMEB-BZ v5.2.1(20231106)/template/uni-app/components/update/app-update.vue?2c0a","uni-app:///components/update/app-update.vue","webpack:////Users/yangfan/Desktop/皮皮熊/麦8号/CRMEB-BZ v5.2.1(20231106)/template/uni-app/components/update/app-update.vue?1f4d","webpack:////Users/yangfan/Desktop/皮皮熊/麦8号/CRMEB-BZ v5.2.1(20231106)/template/uni-app/components/update/app-update.vue?2585"],"names":["name","props","tabbar","type","default","getVer","data","popup_show","platform","version","need_update","downing","downstatus","update_info","os","info","fileSize","downSize","viewObj","created","vm","computed","lengthWidth","w","width","getHeight","bottom","height","methods","update","getUpdateInfo","then","nowDate","uni","catch","checkUpdate","left","backgroundColor","closeUpdate","plus","import","sharedApplication","performSelector","nowUpdate","download_wgt","method","options","dtask","installWgt","path","compareVersion","ova","nva","no","sn","nn"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmI;AACnI;AAC8D;AACL;AACsC;;;AAG/F;AACyN;AACzN,gBAAgB,iNAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,iGAAM;AACR,EAAE,0GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/BA;AAAA;AAAA;AAAA;AAAq3B,CAAgB,wyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;ACkCz4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AADA;AAAA,eAKA;EACAA;EACA;EACAC;IACAC;MACAC;MACAC;IACA;;IACAC;MACAF;MACAC;IACA;EACA;EACAE;IACA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;QACAC;QAAA;QACAL;QAAA;QACAM;MACA;;MACAC;MAAA;MACAC;MAAA;MACAC;IACA;EACA;EACAC;IACAC;IACA;EACA;EACAC;IACA;IACAC;MACA;MACA;QACAC;MACA;QACAA;MACA;MACA;QACAC;MACA;IACA;IACAC;MACA;MACA;QACAC;MACA;MACA;QACAA;QACAC;MACA;IACA;EACA;EACAC;IACA;IACAC,2BAiBA;IAEA;IACAC;MAAA;MACA;MACA,4DACAC;QACA;UACA;QACA;QACA;UACAC;QACA;UACAC;QACA;UACA;QACA;UACA;QACA;QACA;QACA;QACA;QACAb;QACA;UACA;QAAA,CACA;UACAA;QACA;MACA,GACAc;QACAd;MACA;IACA;IACA;IACAe;MACAf;MACA;QACAA;QACA;UACA;UACA;UACAA;YACAM;YACAU;YACAT;YACAH;YACAa;UACA;UACAjB;QACA;MACA;QACA;MACA;IACA;IAEA;IACAkB;MACA;QACA;QACA,6BACAC,sBACAA,SACAC,wBACAC,oBACAC;MACA;QACAtB;QACA;MACA;IACA;IACA;IACAuB;MACA;MACAvB;;MAEA;QACA;QACAA;MACA;QACA;QACAA;MACA;QACAmB;UACA;UACAA;QACA;MACA;IACA;IACA;IACAK;MACAL;MACA;QACAM;MACA;MACA,2CACAzB,oBACA0B,SACA,wBACA;MAEAC;QACA;UACA;UACA3B;UACA;YACA;cAAA;cACAA;cACA;gBACAA;cACA;;cACA;YACA;cACAA;cACA;UAAA;QAEA;UACAmB;UACAA;UACAnB;UACAA;QACA;MACA;MACA2B;IACA;IAEA;IACAC;MACAT;MACAA,qBACAU,UACA;QACAV;QACA;QACAA;UACAA;QACA;MACA,GAEA;QACAA;QACA;QACAA;MACA,EACA;IACA;IACA;IACAW;MACA;QACA;MACA;MACA;QACAC;QACAC;MACA;QACA;UACAC;UACAC;UACAC;QACA;UACA;QACA;UACA;QACA;MACA;MACA;QACA;MACA;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC/RA;AAAA;AAAA;AAAA;AAAgpD,CAAgB,+7CAAG,EAAC,C;;;;;;;;;;;ACApqD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/update/app-update.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./app-update.vue?vue&type=template&id=1af47460&scoped=true&\"\nvar renderjs\nimport script from \"./app-update.vue?vue&type=script&lang=js&\"\nexport * from \"./app-update.vue?vue&type=script&lang=js&\"\nimport style0 from \"./app-update.vue?vue&type=style&index=0&id=1af47460&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1af47460\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/update/app-update.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-update.vue?vue&type=template&id=1af47460&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.popup_show ? _vm.$t(\"发现新版本\") : null\n  var m1 = _vm.popup_show && _vm.downstatus < 1 ? _vm.$t(\"立即升级\") : null\n  var m2 = _vm.popup_show && !(_vm.downstatus < 1) ? _vm.$t(\"下载进度\") : null\n  var g0 =\n    _vm.popup_show && !(_vm.downstatus < 1)\n      ? (_vm.downSize / 1024 / 1024).toFixed(2)\n      : null\n  var g1 =\n    _vm.popup_show && !(_vm.downstatus < 1)\n      ? (_vm.fileSize / 1024 / 1024).toFixed(2)\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n        m2: m2,\n        g0: g0,\n        g1: g1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-update.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-update.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"wrap\" v-if=\"popup_show\">\n\t\t<view class=\"popup-bg\" :style=\"getHeight\">\n\t\t\t<view class=\"popup-content\" :class=\"{ 'popup-content-show': popup_show }\">\n\t\t\t\t<view class=\"update-wrap\">\n\t\t\t\t\t<image src=\"./images/img.png\" class=\"top-img\"></image>\n\t\t\t\t\t<view class=\"content\">\n\t\t\t\t\t\t<text class=\"title\">{{$t(`发现新版本`)}}{{ update_info.version }}</text>\n\t\t\t\t\t\t<!-- 升级描述 -->\n\t\t\t\t\t\t<view class=\"title-sub\" v-html=\"update_info.info\"></view>\n\t\t\t\t\t\t<!-- 升级按钮 -->\n\t\t\t\t\t\t<button class=\"btn\" v-if=\"downstatus < 1\" @click=\"nowUpdate()\">\n\t\t\t\t\t\t\t{{$t(`立即升级`)}}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<!-- 下载进度 -->\n\t\t\t\t\t\t<view class=\"sche-wrap\" v-else>\n\t\t\t\t\t\t\t<!-- 更新包下载中 -->\n\t\t\t\t\t\t\t<view class=\"sche-bg\">\n\t\t\t\t\t\t\t\t<view class=\"sche-bg-jindu\" :style=\"lengthWidth\"></view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<text class=\"down-text\">{{$t(`下载进度`)}}:{{ (downSize / 1024 / 1024).toFixed(2) }}M/{{\n                  (fileSize / 1024 / 1024).toFixed(2)\n                }}M</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<image src=\"./images/close.png\" class=\"close-ioc\" @click=\"closeUpdate()\"></image>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\tlet vm;\n\timport {\n\t\tgetUpdateInfo\n\t} from '@/api/public.js'\n\n\texport default {\n\t\tname: \"appUpdate\",\n\t\t//@是否强制更新\n\t\tprops: {\n\t\t\ttabbar: {\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault: false, //是否有原生tabbar组件\n\t\t\t},\n\t\t\tgetVer: {\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault: false, //是否有原生tabbar组件\n\t\t\t},\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tpopup_show: false, //弹窗是否显示\n\t\t\t\tplatform: \"\", //ios or android\n\t\t\t\tversion: \"1.0.0\", //当前软件版本\n\t\t\t\tneed_update: false, // 是否更新\n\t\t\t\tdowning: false, //是否下载中\n\t\t\t\tdownstatus: 0, //0未下载  1已开始 2已连接到资源  3已接收到数据  4下载完成\n\t\t\t\tupdate_info: {\n\t\t\t\t\tos: \"\", //设备系统\n\t\t\t\t\tversion: \"\", //最新版本\n\t\t\t\t\tinfo: \"\", //升级说明\n\t\t\t\t},\n\t\t\t\tfileSize: 0, //文件大小\n\t\t\t\tdownSize: 0, //已下载大小\n\t\t\t\tviewObj: null, //原生遮罩view\n\t\t\t};\n\t\t},\n\t\tcreated() {\n\t\t\tvm = this;\n\t\t\tif (!this.getVer) this.update()\n\t\t},\n\t\tcomputed: {\n\t\t\t// 下载进度计算\n\t\t\tlengthWidth: function() {\n\t\t\t\tlet w = (this.downSize / this.fileSize) * 100;\n\t\t\t\tif (!w) {\n\t\t\t\t\tw = 0;\n\t\t\t\t} else {\n\t\t\t\t\tw = w.toFixed(2);\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\twidth: w + \"%\", //return 宽度半分比\n\t\t\t\t};\n\t\t\t},\n\t\t\tgetHeight() {\n\t\t\t\tlet bottom = 0;\n\t\t\t\tif (this.tabbar) {\n\t\t\t\t\tbottom = 50;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tbottom: bottom + \"px\",\n\t\t\t\t\theight: \"auto\",\n\t\t\t\t};\n\t\t\t},\n\t\t},\n\t\tmethods: {\n\t\t\t// 检查更新\n\t\t\tupdate() {\n\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\t// 获取手机系统信息\n\t\t\t\tuni.getSystemInfo({\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tvm.platform = res.platform; //ios  or android\n\t\t\t\t\t\tconsole.log(\"手机系统信息\", vm.platform);\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\t\t// 获取版本号\n\t\t\t\tplus.runtime.getProperty(plus.runtime.appid, function(inf) {\n\t\t\t\t\tvm.version = inf.version;\n\t\t\t\t});\n\t\t\t\tconsole.log(\"当前版本\", vm.version);\n\t\t\t\tthis.getUpdateInfo(); //获取更新信息\n\t\t\t\t// #endif\n\t\t\t},\n\n\t\t\t// 获取线上版本信息\n\t\t\tgetUpdateInfo() {\n\t\t\t\t//向后台发起请求，获取最新版本号\n\t\t\t\tgetUpdateInfo(this.platform === \"ios\" ? 2 : 1)\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tif(Array.isArray(res.data)){\n\t\t\t\t\t\t return\tthis.$emit('isNew')\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst tagDate = uni.getStorageSync('app_update_time') || '',\n\t\t\t\t\t\t\tnowDate = new Date().toLocaleDateString();\n\t\t\t\t\t\tif (tagDate !== nowDate && !this.getVer) {\n\t\t\t\t\t\t\tuni.setStorageSync('app_update_time', new Date().toLocaleDateString());\n\t\t\t\t\t\t} else if ((tagDate !== nowDate) && this.getVer) {\n\t\t\t\t\t\t\tif (!res.data.is_force) return\n\t\t\t\t\t\t} else if (tagDate == nowDate && !this.getVer && !res.data.is_force) {\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// 这里的返回的数据跟后台约定\n\t\t\t\t\t\tlet data = res.data;\n\t\t\t\t\t\t// 循环获取当前设备对应的更新数据\n\t\t\t\t\t\tvm.update_info = data;\n\t\t\t\t\t\tif (!vm.update_info.platform) {\n\t\t\t\t\t\t\t// 后台未配置当前系统的升级数据\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvm.checkUpdate(); ///检查是否更新\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tvm.popup_show = false\n\t\t\t\t\t});\n\t\t\t},\n\t\t\t// 检查是否更新\n\t\t\tcheckUpdate() {\n\t\t\t\tvm.need_update = vm.compareVersion(vm.version, vm.update_info.version); // 检查是否需要升级\n\t\t\t\tif (vm.need_update) {\n\t\t\t\t\tvm.popup_show = true; //线上版本号大于当前安装的版本号  显示升级框\n\t\t\t\t\tif (vm.tabbar) {\n\t\t\t\t\t\t//页面是否有原生tabbar组件\n\t\t\t\t\t\t// 创建原生view用来遮罩tabbar的点击事件 (如果是没有用原生的tabbar这一步可以取消)\n\t\t\t\t\t\tvm.viewObj = new plus.nativeObj.View(\"viewObj\", {\n\t\t\t\t\t\t\tbottom: \"0px\",\n\t\t\t\t\t\t\tleft: \"0px\",\n\t\t\t\t\t\t\theight: \"50px\",\n\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\tbackgroundColor: \"rgba(0,0,0,.6)\",\n\t\t\t\t\t\t});\n\t\t\t\t\t\tvm.viewObj.show(); //显示原生遮罩\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.$emit('isNew')\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// 取消更新\n\t\t\tcloseUpdate() {\n\t\t\t\tif (vm.update_info.is_force) {\n\t\t\t\t\t// 强制更新，取消退出app\n\t\t\t\t\tthis.platform == \"android\" ?\n\t\t\t\t\t\tplus.runtime.quit() :\n\t\t\t\t\t\tplus.ios\n\t\t\t\t\t\t.import(\"UIApplication\")\n\t\t\t\t\t\t.sharedApplication()\n\t\t\t\t\t\t.performSelector(\"exit\");\n\t\t\t\t} else {\n\t\t\t\t\tvm.popup_show = false; //关闭升级弹窗\n\t\t\t\t\tif (vm.viewObj) vm.viewObj.hide(); //隐藏原生遮罩\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 立即更新\n\t\t\tnowUpdate() {\n\t\t\t\tif (vm.downing) return false; //如果正在下载就停止操作\n\t\t\t\tvm.downing = true; //状态改变 正在下载中\n\n\t\t\t\tif (/\\.apk$/.test(vm.update_info.url)) {\n\t\t\t\t\t// 如果是apk地址\n\t\t\t\t\tvm.download_wgt(); // 安装包/升级包更新\n\t\t\t\t} else if (/\\.wgt$/.test(vm.update_info.url)) {\n\t\t\t\t\t// 如果是更新包\n\t\t\t\t\tvm.download_wgt(); // 安装包/升级包更新\n\t\t\t\t} else {\n\t\t\t\t\tplus.runtime.openURL(vm.update_info.url, function() {\n\t\t\t\t\t\t//调用外部浏览器打开更新地址\n\t\t\t\t\t\tplus.nativeUI.toast(\"打开错误\");\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 下载升级资源包\n\t\t\tdownload_wgt() {\n\t\t\t\tplus.nativeUI.showWaiting(\"下载更新文件...\"); //下载更新文件...\n\t\t\t\tlet options = {\n\t\t\t\t\tmethod: \"get\",\n\t\t\t\t};\n\t\t\t\tlet dtask = plus.downloader.createDownload(\n\t\t\t\t\tvm.update_info.url,\n\t\t\t\t\toptions,\n\t\t\t\t\tfunction(d, status) {}\n\t\t\t\t);\n\n\t\t\t\tdtask.addEventListener(\"statechanged\", function(task, status) {\n\t\t\t\t\tif (status === null) {} else if (status == 200) {\n\t\t\t\t\t\t//在这里打印会不停的执行，请注意，正式上线切记不要在这里打印东西///////////////////////////////////////////////////\n\t\t\t\t\t\tvm.downstatus = task.state;\n\t\t\t\t\t\tswitch (task.state) {\n\t\t\t\t\t\t\tcase 3: // 已接收到数据\n\t\t\t\t\t\t\t\tvm.downSize = task.downloadedSize;\n\t\t\t\t\t\t\t\tif (task.totalSize) {\n\t\t\t\t\t\t\t\t\tvm.fileSize = task.totalSize; //服务器须返回正确的content-length才会有长度\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\tvm.installWgt(task.filename); // 安装wgt包\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tplus.nativeUI.closeWaiting();\n\t\t\t\t\t\tplus.nativeUI.toast(\"下载出错\");\n\t\t\t\t\t\tvm.downing = false;\n\t\t\t\t\t\tvm.downstatus = 0;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tdtask.start();\n\t\t\t},\n\n\t\t\t// 安装文件\n\t\t\tinstallWgt(path) {\n\t\t\t\tplus.nativeUI.showWaiting(\"安装更新文件...\"); //安装更新文件...\n\t\t\t\tplus.runtime.install(\n\t\t\t\t\tpath, {},\n\t\t\t\t\tfunction() {\n\t\t\t\t\t\tplus.nativeUI.closeWaiting();\n\t\t\t\t\t\t// 应用资源下载完成！\n\t\t\t\t\t\tplus.nativeUI.alert(\"应用资源下载完成！\", function() {\n\t\t\t\t\t\t\tplus.runtime.restart();\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\n\t\t\t\t\tfunction(e) {\n\t\t\t\t\t\tplus.nativeUI.closeWaiting();\n\t\t\t\t\t\t// 安装更新文件失败\n\t\t\t\t\t\tplus.nativeUI.alert(\"安装更新文件失败[\" + e.code + \"]：\" + e.message);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t},\n\t\t\t// 对比版本号\n\t\t\tcompareVersion(ov, nv) {\n\t\t\t\tif (!ov || !nv || ov == \"\" || nv == \"\") {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet b = false,\n\t\t\t\t\tova = ov.split(\".\", 4),\n\t\t\t\t\tnva = nv.split(\".\", 4);\n\t\t\t\tfor (let i = 0; i < ova.length && i < nva.length; i++) {\n\t\t\t\t\tlet so = ova[i],\n\t\t\t\t\t\tno = parseInt(so),\n\t\t\t\t\t\tsn = nva[i],\n\t\t\t\t\t\tnn = parseInt(sn);\n\t\t\t\t\tif (nn > no || sn.length > so.length) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else if (nn < no) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (nva.length > ova.length && 0 == nv.indexOf(ov)) {\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t};\n</script>\n\n<style lang=\"scss\" scoped>\n\t.popup-bg {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0rpx;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\twidth: 750rpx;\n\t\tbackground-color: rgba(0, 0, 0, 0.6);\n\t\tz-index: 10000;\n\t}\n\n\t.popup-content {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t}\n\n\t.popup-content-show {\n\t\tanimation: mymove 500ms;\n\t\ttransform: scale(1);\n\t}\n\n\t@keyframes mymove {\n\t\t0% {\n\t\t\ttransform: scale(0);\n\t\t\t/*开始为原始大小*/\n\t\t}\n\n\t\t100% {\n\t\t\ttransform: scale(1);\n\t\t}\n\t}\n\n\t.update-wrap {\n\t\twidth: 580rpx;\n\t\tborder-radius: 18rpx;\n\t\tposition: relative;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tbackground-color: #ffffff;\n\t\tpadding: 170rpx 30rpx 0;\n\n\t\t.top-img {\n\t\t\tposition: absolute;\n\t\t\tleft: 0;\n\t\t\twidth: 100%;\n\t\t\theight: 256rpx;\n\t\t\ttop: -128rpx;\n\t\t}\n\n\t\t.content {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\talign-items: center;\n\t\t\tpadding-bottom: 40rpx;\n\n\t\t\t.title {\n\t\t\t\tfont-size: 32rpx;\n\t\t\t\tfont-weight: bold;\n\t\t\t\tcolor: #6526f3;\n\t\t\t}\n\n\t\t\t.title-sub {\n\t\t\t\ttext-align: center;\n\t\t\t\tfont-size: 24rpx;\n\t\t\t\tcolor: #666666;\n\t\t\t\tpadding: 30rpx 0;\n\t\t\t}\n\n\t\t\t.btn {\n\t\t\t\twidth: 460rpx;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\tcolor: #ffffff;\n\t\t\t\tfont-size: 30rpx;\n\t\t\t\theight: 80rpx;\n\t\t\t\tline-height: 80rpx;\n\t\t\t\tborder-radius: 100px;\n\t\t\t\tbackground-color: #6526f3;\n\t\t\t\tmargin-top: 20rpx;\n\t\t\t}\n\t\t}\n\t}\n\n\t.close-ioc {\n\t\twidth: 70rpx;\n\t\theight: 70rpx;\n\t\tmargin-top: 30rpx;\n\t}\n\n\t.sche-wrap {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: flex-end;\n\t\tpadding: 10rpx 50rpx 0;\n\n\t\t.sche-wrap-text {\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #666;\n\t\t\tmargin-bottom: 20rpx;\n\t\t}\n\n\t\t.sche-bg {\n\t\t\tposition: relative;\n\t\t\tbackground-color: #cccccc;\n\t\t\theight: 30rpx;\n\t\t\tborder-radius: 100px;\n\t\t\twidth: 480rpx;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\n\t\t\t.sche-bg-jindu {\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: 0;\n\t\t\t\ttop: 0;\n\t\t\t\theight: 30rpx;\n\t\t\t\tmin-width: 40rpx;\n\t\t\t\tborder-radius: 100px;\n\t\t\t\tbackground: url(images/round.png) #5775e7 center right 4rpx no-repeat;\n\t\t\t\tbackground-size: 26rpx 26rpx;\n\t\t\t}\n\t\t}\n\n\t\t.down-text {\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #5674e5;\n\t\t\tmargin-top: 16rpx;\n\t\t}\n\t}\n</style>\n","import mod from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-update.vue?vue&type=style&index=0&id=1af47460&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-update.vue?vue&type=style&index=0&id=1af47460&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1699920883683\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}